<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Exceed Type System</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">

    <link rel="stylesheet"
          href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="../../src/main/base/resources/js/html5shiv.min.js"></script>
    <script src="../../src/main/base/resources/js/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">

        ul.no-bullet
        {
            list-style: none;
        }

        .doc-nav
        {
            width: 30ex;
            border: 1px solid #666;
            background: #f0f0f0;
            display: block;
            position: fixed;
            top: 1ex;
            right: 1ex;
            list-style: none;
            padding: 0;
        }
    </style>

</head>
<body>
<div id="root">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div><ul class="doc-nav"><li><a class="btn btn-link" href="index.html">Overview</a></li><li><a class="btn btn-link" href="action.html">Exceed Action System</a></li><li><a class="btn btn-link" href="data-graph.html">DataGraph Structure</a></li><li><a class="btn btn-link" href="types.html">Exceed Type System</a></li><li><a class="btn btn-link" href="model.html">Model Docs</a></li><li><a class="btn btn-link" href="component.html">Component Docs</a></li><li><a class="btn btn-link" href="expression.html">Expression Docs</a></li><li><a class="btn btn-link" href="class-index.html">Components by class</a></li></ul><div><h1 id="exceed-type-system">Exceed Type System</h1>
<p>The exceed type system is an extensible system based on a number of data atoms and
complex object structures built from them. The type system applies to many different
parts of exceed applications. Domain type definitions, context variable definitions but
also the runtime contents of data queries.</p>
<h2 id="property-types">Property-Types</h2>
<p>A property is a named property value, usually contained in a larger, if only organizational,
context. It is usually defined as JSON model.</p>
<pre><code>{
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myProp"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Integer"</span>
}
</code></pre><p>The type of the property is defined by the type field and for some property types,
the typeParam and config fields.</p>
<h2 id="builtin-property-types">Builtin Property Types</h2>
<table class="table table-striped table-hover table-bordered">
<thead>
<tr>
<th>Type</th>
<th>Description</th>
<th>TypeParam</th>
<th>Config Map</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td>boolean type</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Currency</td>
<td>currency type<a href="#currency-type-limitations">*</a></td>
<td>Currency code</td>
<td>-        </td>
</tr>
<tr>
<td>DataGraph</td>
<td><a href="./data-graph.html">data graph structure</a></td>
<td>-</td>
<td>-        </td>
</tr>
<tr>
<td>Date</td>
<td>Date</td>
<td>-</td>
<td>-    </td>
</tr>
<tr>
<td>Decimal</td>
<td>Decimal number</td>
<td>-</td>
<td><a href="#decimal-config">decimalPlaces,precision,trailingZeroes</a>    </td>
</tr>
<tr>
<td>DomainType</td>
<td>domain object value</td>
<td>Domain Type name</td>
<td><a href="#domaintype-config">implementation</a>        </td>
</tr>
<tr>
<td>Enum</td>
<td>enum value</td>
<td>Enum Type name</td>
<td><a href="#enum-config">javaEnum</a>    </td>
</tr>
<tr>
<td>Integer</td>
<td>32 bit Integer number</td>
<td>-</td>
<td>-    </td>
</tr>
<tr>
<td>List</td>
<td>List</td>
<td>Domain type or enum type or property type</td>
<td>-    </td>
</tr>
<tr>
<td>Long</td>
<td>64 bit Integer number</td>
<td>-</td>
<td>-    </td>
</tr>
<tr>
<td>Map</td>
<td>map value with string keys</td>
<td>Domain type or enum type or property type</td>
<td>-</td>
</tr>
<tr>
<td>Object</td>
<td>any</td>
<td>-</td>
<td>-    </td>
</tr>
<tr>
<td>PlainText</td>
<td>string</td>
<td>-</td>
<td>-        </td>
</tr>
<tr>
<td>RichText</td>
<td>html text</td>
<td>-</td>
<td>-        </td>
</tr>
<tr>
<td>State</td>
<td>state machine value</td>
<td>state machine name</td>
<td>-    </td>
</tr>
<tr>
<td>Timestamp</td>
<td>timestamp</td>
<td>-</td>
<td>-        </td>
</tr>
<tr>
<td>UUID</td>
<td>special UUID string type for ids</td>
<td>-</td>
<td>-    </td>
</tr>
</tbody>
</table>
<p>The typeParam values of <em>DomainType</em>, <em>Enum</em>, <em>State</em>, <em>List</em> and <em>Map</em> mean that the JSON property definitions are 
application specific as they can refer to application-specific type definitions by name.</p>
<p>The base extension defines some basic application domain types like <em>AppUser</em> and <em>AppTranslation</em> the application defines 
additional types to a final set of valid domain types, enum types and state machine types.</p>
<p>The system will also generate a domain type definition for every model class below the package de.quinscape.exceed.model.
The routing table model de.quinscape.exceed.model.routing.RoutingTable for example will have a corresponding domain type
definition with the type set to &quot;xcd.routing.RoutingTable&quot;.</p>
<h2 id="property-type-configuration">Property Type Configuration</h2>
<p>Some property types offer additional configuration properties via an additional map property <em>config</em>. </p>
<p>Config Example: </p>
<pre><code>{
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myValue"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Decimal"</span>,
    <span class="hljs-attr">"config"</span>: {
        <span class="hljs-attr">"precision"</span>: <span class="hljs-number">12</span>,
        <span class="hljs-attr">"decimalPlaces"</span>: <span class="hljs-number">4</span>
    }
}
</code></pre><p>This would define a <em>Decimal</em> property with a precision of 12 digits and 4 decimal places. The config.json contains
the application-wide defaults which are (precision=10 and decimalPlaces=3 by default).</p>
<h2 id="decimal-config">Decimal Config</h2>
<p>The <em>Decimal</em> type has the following config parameters:</p>
<ul>
<li>decimalPlaces : Number of after the fractional separator</li>
<li>precision : Overall number of digits</li>
<li>trailingZeroes: <em>true</em> if the number is supposed to be formatted with trailing zeroes</li>
</ul>
<p>There is additional application wide configuration in the config.json <em>decimalConfig</em> property.  </p>
<h2 id="domaintype-config">DomainType Config</h2>
<p>The <em>implementation</em> config parameter can be used to create a certain type of domain object, e.g. a special GeneratedDomainObject</p>
<h2 id="enum-config">Enum Config</h2>
<p>The <em>javaEnum</em> config parameter can be used to make the property have java enum values of that type instead of ordinal values.
This is mostly useful and used for the model domain types.</p>
<h2 id="currency-type-limitations">Currency Type Limitations</h2>
<p>Numbers in exceed come with the same limitations as javascript numbers. They&#39;re 64-bit IEEE-754 floating point numbers with limited precision.
Exceed offers the <em>Decimal</em> type for additional precision but uses a dedicated currency type for currency values.</p>
<p>The currency values are stored in one ten thousandth units. So 1.00 EUR would be a value of 10000. The <em>typeParam</em> field 
can be used to define the three letter currency code for that property. It can be left out to use application wide currency default.</p>
<p>Currency values also being normal Javascript numbers limits them to an interval of [MIN_SAFE_INTEGER, MAX_SAFE_INTEGER] for precise calculations as per 
<a href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER">ECMAScript spec</a>.</p>
<p>The range of of +/- 2^53 - 1 limits us to precise currency values in a range of +/- 90000 billion (10^13.95). For values 
larger or smaller then that, rounding errors will occur in the cent range.  </p>
</div></div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
