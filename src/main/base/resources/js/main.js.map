{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/main/js/main.js","node_modules/browserify/node_modules/process/browser.js","node_modules/classnames/index.js","node_modules/domready/ready.js","node_modules/es6-promise/dist/es6-promise.js","node_modules/extend/index.js","src/main/js/cando.js","src/main/js/components/counter/Counter.js","src/main/js/components/counter/component.json","src/main/js/components/datagrid/DataGrid.js","src/main/js/components/datagrid/component.json","src/main/js/components/heading/Heading.js","src/main/js/components/heading/component.json","src/main/js/components/input/InputElement.js","src/main/js/components/input/component.json","src/main/js/compositor.js","src/main/js/editor/InPageEditor.js","src/main/js/mixin/complex-component.js","src/main/js/mixin/debounce-mixin.js","src/main/js/mixin/stateless-component.js","src/main/js/service/ajax.js","src/main/js/service/component.js","src/main/js/service/security.js","src/main/js/service/view.js","src/main/js/ui/Alert.js","src/main/js/ui/PagingComponent.js","src/main/js/ui/ViewComponent.js","src/main/js/util/enum.js","src/main/js/util/has-class.js","src/main/js/util/parseXML.js","src/main/js/util/uri.js","src/main/js/util/value-link.js","src/main/js/util/warn-once.js","src/main/js/util/xhr-factory.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtFA,IAAI,mBAAmB,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AACxD,IAAI,SAAS,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;;;;;;AAO3C,MAAM,CAAC,OAAO,GAAG;;;;AAIb,aAAS,EAAE,OAAO,MAAM,KAAK,WAAW,IAAI,WAAW,IAAI,MAAM,CAAC,OAAO,IAAI,OAAO,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,UAAU;;;;AAI9H,QAAI,EAAE,CAAC,CAAC,mBAAmB,EAAE;;AAE7B,gBAAY,EAAE,CAAC,YACf;AACI,YACA;AACI,mBAAO,OAAO,MAAM,KAAK,WAAW,IAAI,cAAc,IAAI,MAAM,IAAI,MAAM,CAAC,cAAc,CAAC,KAAK,IAAI,CAAC;SACvG,CACD,OAAO,CAAC,EACR;AACI,mBAAO,KAAK,CAAC;SAChB;KACJ,CAAA,EAAG;;AAEJ,kBAAc,EAAE,CAAC,YACjB;AACI,YACA;AACI,mBAAO,OAAO,MAAM,KAAK,WAAW,IAAG,gBAAgB,IAAI,MAAM,IAAI,MAAM,CAAC,gBAAgB,CAAC,KAAK,IAAI,CAAC;SAC1G,CACD,OAAO,CAAC,EACR;AACI,mBAAO,KAAK,CAAC;SAChB;KACJ,CAAA,EAAG;;AAEJ,OAAG,EAAE,CAAC,YACN;AACI,YACA;AACI,mBAAO,OAAO,QAAQ,KAAK,WAAW,IAAI,CAAC,CAAC,QAAQ,CAAC,eAAe,IAAI,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC,aAAa,CAAC;SACzJ,CACD,OAAO,CAAC,EACR;AACI,mBAAO,KAAK,CAAC;SAChB;KACJ,CAAA,EAAG;;AAEJ,YAAQ,EAAE,CAAC,CAAC,SAAS;CACxB,CAAC;;;ACvDF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtDA,IAAI,aAAa,GAAG;AAChB,YAAQ,EAAE,UAAU,IAAI,EAAE,IAAI,EAC9B;AACI,YAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;;AA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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\n\n\nvar componentService = require(\"./service/component\");\nvar viewService = require(\"./service/view\");\nvar ajax = require(\"./service/ajax\");\nvar security = require(\"./service/security\");\n\nvar ValueLink = require(\"./util/value-link\");\n\nvar Alert = require(\"./ui/Alert\");\nvar ViewComponent = require(\"./ui/ViewComponent\");\n\nvar componentsMap = ({\"components\":({\"counter\":({\"component\":require(\"./components/counter/component.json\"),\"Counter\":require(\"./components/counter/Counter.js\")}),\"datagrid\":({\"component\":require(\"./components/datagrid/component.json\"),\"DataGrid\":require(\"./components/datagrid/DataGrid.js\")}),\"heading\":({\"component\":require(\"./components/heading/component.json\"),\"Heading\":require(\"./components/heading/Heading.js\")}),\"input\":({\"component\":require(\"./components/input/component.json\"),\"InputElement\":require(\"./components/input/InputElement.js\")})})});\n\ncomponentService.registerBulk(componentsMap);\n\nconsole.dir(componentService.getComponents());\n\nvar domready = require(\"domready\");\nwindow.domready = domready;\nfunction evaluateEmbedded(elemId, mediaType) {\n    var elem = document.getElementById(elemId);\n    if (!elem || elem.getAttribute(\"type\") !== mediaType) {\n        throw new Error(\"#\" + elemId + \" is not a script of type '\" + mediaType + \"': \" + elem);\n    }\n\n    return JSON.parse(elem.innerHTML);\n}\n\nvar rootElem;\nvar currentViewName;\nvar currentViewData;\n\nfunction timestampURL(href) {\n    var marker = \";reload=\" + Date.now();\n    var pos = href.indexOf(\";\");\n    if (pos < 0) {\n        href += marker;\n    } else {\n        href = href.substr(0, pos) + marker;\n    }\n\n    return href;\n}\n\nfunction pollChanges() {\n    ajax({\n        url: contextPath + \"/reload/\" + appName\n    }).then(function (model) {\n        //alert(\"CHANGE\" + JSON.stringify(model));\n\n        if (model._type === \"view.View\") {\n            var ViewComponent = viewService.getViewComponent(model.name, model, true);\n\n            if (currentViewName === model.name) {\n                ReactDOM.render(React.createElement(ViewComponent, {\n                    model: model,\n                    componentData: currentViewData\n                }), rootElem);\n            }\n        } else if (model._type === \"change.Shutdown\") {\n            alert(\"Server has been shut down.\\nYou might want to reload\");\n            return;\n        } else if (model._type === \"change.CodeChange\") {\n            console.log(\"CodeChange\");\n\n            var elem = document.createElement(\"script\");\n            elem.setAttribute(\"src\", contextPath + \"/res/\" + appName + \"/js/main.js\");\n\n            var head = document.getElementsByTagName(\"head\")[0];\n            head.appendChild(elem);\n        } else if (model._type === \"change.StyleChange\") {\n            var link = document.getElementById(\"application-styles\");\n            link.href = timestampURL(link.href);\n\n            console.log(\"StyleChange\");\n        }\n\n        pollChanges();\n    });\n}\ndomready(function () {\n    security.init();\n\n    var contextPath = document.body.dataset.contextPath;\n    var appName = document.body.dataset.appName;\n\n    rootElem = document.getElementById(\"root\");\n\n    window.appName = appName;\n    window.contextPath = contextPath;\n\n    var path = location.pathname.substring(contextPath.length);\n\n    var model = evaluateEmbedded(\"root-model\", \"x-ceed/view-model\");\n    var data = evaluateEmbedded(\"root-data\", \"x-ceed/view-data\");\n\n    currentViewName = model.name;\n    currentViewData = data;\n    ReactDOM.render(React.createElement(ViewComponent, {\n        model: model,\n        componentData: data\n    }), rootElem);\n\n    pollChanges();\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNwQyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7O0FBRXBDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNuQyxJQUFJLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQ3RELElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3JDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDOztBQUU3QyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQzs7QUFFN0MsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ2xDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDOztBQUVsRCxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsc0JBQXNCLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyxDQUFDOztBQUVwRixnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7O0FBRTdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQzs7QUFHOUMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ25DLE1BQU0sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBQzNCLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFDM0M7QUFDSSxRQUFJ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QUNUO0FBQ0ksWUFBUSxDQUFDLElBQUksRUFBRSxDQUFDOztBQUVoQixRQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEQsUUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDOztBQUU1QyxZQUFRLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFM0MsVUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDekIsVUFBTSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7O0FBRWpDLFFBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFM0QsUUFBSSxLQUFLLEdBQUcsZ0JBQWdCLENBQUMsWUFBWSxFQUFFLG1CQUFtQixDQUFDLENBQUM7QUFDaEUsUUFBSSxJQUFJLEdBQUcsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLGtCQUFrQixDQUFDLENBQUM7O0FBRTdELG1CQUFlLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztBQUM3QixtQkFBZSxHQUFHLElBQUksQ0FBQztBQUN2QixZQUFRLENBQUMsTUFBTSxDQUFFLEtBQUssQ0FBQyxhQUFhLENBQUMsYUFBYSxFQUFFO0FBQ2hELGFBQUssRUFBRSxLQUFLO0FBQ1oscUJBQWEsRUFBRSxJQUFJO0tBQ3RCLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQzs7QUFFZCxlQUFXLEVBQUUsQ0FBQztDQUNqQixDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbbnVsbF19","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n  Copyright (c) 2015 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses += ' ' + arg;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses += ' ' + key;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.substr(1);\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/*!\n  * domready (c) Dustin Diaz 2014 - License MIT\n  */\n!function (name, definition) {\n\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)\n  else this[name] = definition()\n\n}('domready', function () {\n\n  var fns = [], listener\n    , doc = document\n    , hack = doc.documentElement.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)\n\n\n  if (!loaded)\n  doc.addEventListener(domContentLoaded, listener = function () {\n    doc.removeEventListener(domContentLoaded, listener)\n    loaded = 1\n    while (listener = fns.shift()) listener()\n  })\n\n  return function (fn) {\n    loaded ? setTimeout(fn, 0) : fns.push(fn)\n  }\n\n});\n","(function (process,global){\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.3.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$toString = {}.toString;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$es6$promise$utils$$isArray(input);\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n\n      var length  = enumerator.length;\n      var promise = enumerator.promise;\n      var input   = enumerator._input;\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n          entry._onerror = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = entry;\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = value;\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n          lib$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n          lib$es6$promise$promise$$needsNew();\n        }\n\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$es6$promise$asap$$asap(function(){\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2pha2VhcmNoaWJhbGQvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgMi4zLjBcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc01heWJlVGhlbmFibGUoeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5O1xuICAgIGlmICghQXJyYXkuaXNBcnJheSkge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5ID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm47XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAgPSBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuXSA9IGNhbGxiYWNrO1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2xpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKyAxXSA9IGFyZztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKz0gMjtcbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID09PSAyKSB7XG4gICAgICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAgICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAgICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0QXNhcChhc2FwRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwID0gYXNhcEZuO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgfHwge307XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbiAgICAvLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgICAvLyBub2RlXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU5leHRUaWNrKCkge1xuICAgICAgdmFyIG5leHRUaWNrID0gcHJvY2Vzcy5uZXh0VGljaztcbiAgICAgIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAgICAgLy8gc2V0SW1tZWRpYXRlIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgaW5zdGVhZFxuICAgICAgdmFyIHZlcnNpb24gPSBwcm9jZXNzLnZlcnNpb25zLm5vZGUubWF0Y2goL14oPzooXFxkKylcXC4pPyg/OihcXGQrKVxcLik/KFxcKnxcXGQrKSQvKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZlcnNpb24pICYmIHZlcnNpb25bMV0gPT09ICcwJyAmJiB2ZXJzaW9uWzJdID09PSAnMTAnKSB7XG4gICAgICAgIG5leHRUaWNrID0gc2V0SW1tZWRpYXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBuZXh0VGljayhsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB2ZXJ0eFxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VWZXJ0eFRpbWVyKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0KGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG9ic2VydmVyID0gbmV3IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlcihsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBub2RlLmRhdGEgPSAoaXRlcmF0aW9ucyA9ICsraXRlcmF0aW9ucyAlIDIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB3ZWIgd29ya2VyXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU1lc3NhZ2VDaGFubmVsKCkge1xuICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoLCAxKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZSA9IG5ldyBBcnJheSgxMDAwKTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2goKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW47IGkrPTIpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2ldO1xuICAgICAgICB2YXIgYXJnID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2krMV07XG5cbiAgICAgICAgY2FsbGJhY2soYXJnKTtcblxuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpKzFdID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnRleCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByID0gcmVxdWlyZTtcbiAgICAgICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dCA9IHZlcnR4LnJ1bk9uTG9vcCB8fCB2ZXJ0eC5ydW5PbkNvbnRleHQ7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaDtcbiAgICAvLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU1lc3NhZ2VDaGFubmVsKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydGV4KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKCkge31cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HICAgPSB2b2lkIDA7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCA9IDE7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEICA9IDI7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IgPSBuZXcgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxsZmlsbG1lbnQoKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKHByb21pc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW47XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuKHRoZW4sIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4pIHtcbiAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoc2VhbGVkKSB7IHJldHVybjsgfVxuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICAgICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gICAgICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSkge1xuICAgICAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGhlbiA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4obWF5YmVUaGVuYWJsZSk7XG5cbiAgICAgICAgaWYgKHRoZW4gPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsbGZpbGxtZW50KCkpO1xuICAgICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgICAgICBwcm9taXNlLl9vbmVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gICAgICB9XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuXG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgICAgIHByb21pc2UuX3N0YXRlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gsIHByb21pc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQ7XG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgICAgIHZhciBsZW5ndGggPSBzdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgICAgIHBhcmVudC5fb25lcnJvciA9IG51bGw7XG5cbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURURdICA9IG9uUmVqZWN0aW9uO1xuXG4gICAgICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoKHByb21pc2UpIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICAgICAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgICAgdmFyIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKSB7XG4gICAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IuZXJyb3IgPSBlO1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHZhciBoYXNDYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICAgICAgdmFsdWUsIGVycm9yLCBzdWNjZWVkZWQsIGZhaWxlZDtcblxuICAgICAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgICAgIHZhbHVlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIGVycm9yID0gdmFsdWUuZXJyb3I7XG4gICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGRldGFpbDtcbiAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgIC8vIG5vb3BcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXNvbHZlcihmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSl7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvcihDb25zdHJ1Y3RvciwgaW5wdXQpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgICAgZW51bWVyYXRvci5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgZW51bWVyYXRvci5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoZW51bWVyYXRvci5fdmFsaWRhdGVJbnB1dChpbnB1dCkpIHtcbiAgICAgICAgZW51bWVyYXRvci5faW5wdXQgICAgID0gaW5wdXQ7XG4gICAgICAgIGVudW1lcmF0b3IubGVuZ3RoICAgICA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgZW51bWVyYXRvci5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICAgIGVudW1lcmF0b3IuX2luaXQoKTtcblxuICAgICAgICBpZiAoZW51bWVyYXRvci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKGVudW1lcmF0b3IucHJvbWlzZSwgZW51bWVyYXRvci5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnVtZXJhdG9yLmxlbmd0aCA9IGVudW1lcmF0b3IubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgZW51bWVyYXRvci5fZW51bWVyYXRlKCk7XG4gICAgICAgICAgaWYgKGVudW1lcmF0b3IuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChlbnVtZXJhdG9yLnByb21pc2UsIGVudW1lcmF0b3IuX3Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QoZW51bWVyYXRvci5wcm9taXNlLCBlbnVtZXJhdG9yLl92YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl92YWxpZGF0ZUlucHV0ID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkoaW5wdXQpO1xuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3ZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fcmVzdWx0ID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3I7XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICB2YXIgbGVuZ3RoICA9IGVudW1lcmF0b3IubGVuZ3RoO1xuICAgICAgdmFyIHByb21pc2UgPSBlbnVtZXJhdG9yLnByb21pc2U7XG4gICAgICB2YXIgaW5wdXQgICA9IGVudW1lcmF0b3IuX2lucHV0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24oZW50cnksIGkpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcbiAgICAgIHZhciBjID0gZW51bWVyYXRvci5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcblxuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlKGVudHJ5KSkge1xuICAgICAgICBpZiAoZW50cnkuY29uc3RydWN0b3IgPT09IGMgJiYgZW50cnkuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgICAgZW50cnkuX29uZXJyb3IgPSBudWxsO1xuICAgICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChlbnRyeS5fc3RhdGUsIGksIGVudHJ5Ll9yZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVudW1lcmF0b3IuX3dpbGxTZXR0bGVBdChjLnJlc29sdmUoZW50cnkpLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW51bWVyYXRvci5fcmVtYWluaW5nLS07XG4gICAgICAgIGVudW1lcmF0b3IuX3Jlc3VsdFtpXSA9IGVudHJ5O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uKHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuICAgICAgdmFyIHByb21pc2UgPSBlbnVtZXJhdG9yLnByb21pc2U7XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICBlbnVtZXJhdG9yLl9yZW1haW5pbmctLTtcblxuICAgICAgICBpZiAoc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnVtZXJhdG9yLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZW51bWVyYXRvci5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgZW51bWVyYXRvci5fcmVzdWx0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbihwcm9taXNlLCBpKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQsIGksIHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsKGVudHJpZXMpIHtcbiAgICAgIHJldHVybiBuZXcgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJGRlZmF1bHQodGhpcywgZW50cmllcykucHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2UoZW50cmllcykge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoIWxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheShlbnRyaWVzKSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgZnVuY3Rpb24gb25GdWxmaWxsbWVudCh2YWx1ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25SZWplY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLCB1bmRlZmluZWQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlKG9iamVjdCkge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJHJlc29sdmU7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3QocmVhc29uKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0O1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRjb3VudGVyID0gMDtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc1Jlc29sdmVyKCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldygpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2U7XG4gICAgLyoqXG4gICAgICBQcm9taXNlIG9iamVjdHMgcmVwcmVzZW50IHRoZSBldmVudHVhbCByZXN1bHQgb2YgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi4gVGhlXG4gICAgICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICAgICAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gICAgICB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cblxuICAgICAgVGVybWlub2xvZ3lcbiAgICAgIC0tLS0tLS0tLS0tXG5cbiAgICAgIC0gYHByb21pc2VgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB3aXRoIGEgYHRoZW5gIG1ldGhvZCB3aG9zZSBiZWhhdmlvciBjb25mb3JtcyB0byB0aGlzIHNwZWNpZmljYXRpb24uXG4gICAgICAtIGB0aGVuYWJsZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBhIGB0aGVuYCBtZXRob2QuXG4gICAgICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gICAgICAtIGBleGNlcHRpb25gIGlzIGEgdmFsdWUgdGhhdCBpcyB0aHJvd24gdXNpbmcgdGhlIHRocm93IHN0YXRlbWVudC5cbiAgICAgIC0gYHJlYXNvbmAgaXMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aHkgYSBwcm9taXNlIHdhcyByZWplY3RlZC5cbiAgICAgIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gICAgICBBIHByb21pc2UgY2FuIGJlIGluIG9uZSBvZiB0aHJlZSBzdGF0ZXM6IHBlbmRpbmcsIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQuXG5cbiAgICAgIFByb21pc2VzIHRoYXQgYXJlIGZ1bGZpbGxlZCBoYXZlIGEgZnVsZmlsbG1lbnQgdmFsdWUgYW5kIGFyZSBpbiB0aGUgZnVsZmlsbGVkXG4gICAgICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gICAgICByZWplY3RlZCBzdGF0ZS4gIEEgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmV2ZXIgYSB0aGVuYWJsZS5cblxuICAgICAgUHJvbWlzZXMgY2FuIGFsc28gYmUgc2FpZCB0byAqcmVzb2x2ZSogYSB2YWx1ZS4gIElmIHRoaXMgdmFsdWUgaXMgYWxzbyBhXG4gICAgICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gICAgICBzZXR0bGVkIHN0YXRlLiAgU28gYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCByZWplY3RzIHdpbGxcbiAgICAgIGl0c2VsZiByZWplY3QsIGFuZCBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpbGxcbiAgICAgIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgICAgIEJhc2ljIFVzYWdlOlxuICAgICAgLS0tLS0tLS0tLS0tXG5cbiAgICAgIGBgYGpzXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAvLyBvbiBzdWNjZXNzXG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgICAgIC8vIG9uIGZhaWx1cmVcbiAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgLy8gb24gcmVqZWN0aW9uXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBBZHZhbmNlZCBVc2FnZTpcbiAgICAgIC0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gICAgICBgWE1MSHR0cFJlcXVlc3Rgcy5cblxuICAgICAgYGBganNcbiAgICAgIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2dldEpTT046IGAnICsgdXJsICsgJ2AgZmFpbGVkIHdpdGggc3RhdHVzOiBbJyArIHRoaXMuc3RhdHVzICsgJ10nKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZ2V0SlNPTignL3Bvc3RzLmpzb24nKS50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAvLyBvbiByZWplY3Rpb25cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFVubGlrZSBjYWxsYmFja3MsIHByb21pc2VzIGFyZSBncmVhdCBjb21wb3NhYmxlIHByaW1pdGl2ZXMuXG5cbiAgICAgIGBgYGpzXG4gICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldEpTT04oJy9wb3N0cycpLFxuICAgICAgICBnZXRKU09OKCcvY29tbWVudHMnKVxuICAgICAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgICAgICB2YWx1ZXNbMF0gLy8gPT4gcG9zdHNKU09OXG4gICAgICAgIHZhbHVlc1sxXSAvLyA9PiBjb21tZW50c0pTT05cblxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQGNsYXNzIFByb21pc2VcbiAgICAgIEBwYXJhbSB7ZnVuY3Rpb259IHJlc29sdmVyXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAY29uc3RydWN0b3JcbiAgICAqL1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgICB0aGlzLl9pZCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRjb3VudGVyKys7XG4gICAgICB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wICE9PSByZXNvbHZlcikge1xuICAgICAgICBpZiAoIWxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbihyZXNvbHZlcikpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlKSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UodGhpcywgcmVzb2x2ZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLmFsbCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yYWNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZXNvbHZlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZWplY3QgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldFNjaGVkdWxlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXI7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldEFzYXAgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0QXNhcDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5fYXNhcCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwO1xuXG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLFxuXG4gICAgLyoqXG4gICAgICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQ2hhaW5pbmdcbiAgICAgIC0tLS0tLS0tXG5cbiAgICAgIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gICAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgICAvLyBJZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHVzZXJOYW1lYCB3aWxsIGJlIHRoZSB1c2VyJ3MgbmFtZSwgb3RoZXJ3aXNlIGl0XG4gICAgICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICAgICAgfSk7XG5cbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgICAgICAvLyBJZiBgZmluZFVzZXJgIHJlamVjdGVkLCBgcmVhc29uYCB3aWxsIGJlICdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jy5cbiAgICAgIH0pO1xuICAgICAgYGBgXG4gICAgICBJZiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIGRvZXMgbm90IHNwZWNpZnkgYSByZWplY3Rpb24gaGFuZGxlciwgcmVqZWN0aW9uIHJlYXNvbnMgd2lsbCBiZSBwcm9wYWdhdGVkIGZ1cnRoZXIgZG93bnN0cmVhbS5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBBc3NpbWlsYXRpb25cbiAgICAgIC0tLS0tLS0tLS0tLVxuXG4gICAgICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICAgICAgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5LiBUaGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXR1cm5pbmcgYSBwcm9taXNlIGluIHRoZVxuICAgICAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgICAgIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIElmIHRoZSBhc3NpbWxpYXRlZCBwcm9taXNlIHJlamVjdHMsIHRoZW4gdGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIGFsc28gcmVqZWN0LlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgZnVsZmlsbHMsIHdlJ2xsIGhhdmUgdGhlIHZhbHVlIGhlcmVcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgU2ltcGxlIEV4YW1wbGVcbiAgICAgIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9XG4gICAgICBgYGBcblxuICAgICAgRXJyYmFjayBFeGFtcGxlXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIC8vIGZhaWx1cmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFByb21pc2UgRXhhbXBsZTtcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQWR2YW5jZWQgRXhhbXBsZVxuICAgICAgLS0tLS0tLS0tLS0tLS1cblxuICAgICAgU3luY2hyb25vdXMgRXhhbXBsZVxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgYXV0aG9yLCBib29rcztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgICAgICBib29rcyAgPSBmaW5kQm9va3NCeUF1dGhvcihhdXRob3IpO1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9XG4gICAgICBgYGBcblxuICAgICAgRXJyYmFjayBFeGFtcGxlXG5cbiAgICAgIGBgYGpzXG5cbiAgICAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmYWlsdXJlKHJlYXNvbikge1xuXG4gICAgICB9XG5cbiAgICAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIC8vIGZhaWx1cmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFByb21pc2UgRXhhbXBsZTtcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgZmluZEF1dGhvcigpLlxuICAgICAgICB0aGVuKGZpbmRCb29rc0J5QXV0aG9yKS5cbiAgICAgICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAgICAgLy8gZm91bmQgYm9va3NcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIHRoZW5cbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuICAgICAgICBpZiAoc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCAmJiAhb25GdWxmaWxsbWVudCB8fCBzdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQgJiYgIW9uUmVqZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHBhcmVudC5fcmVzdWx0O1xuXG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1tzdGF0ZSAtIDFdO1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCByZXN1bHQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9LFxuXG4gICAgLyoqXG4gICAgICBgY2F0Y2hgIGlzIHNpbXBseSBzdWdhciBmb3IgYHRoZW4odW5kZWZpbmVkLCBvblJlamVjdGlvbilgIHdoaWNoIG1ha2VzIGl0IHRoZSBzYW1lXG4gICAgICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuXG4gICAgICBgYGBqc1xuICAgICAgZnVuY3Rpb24gZmluZEF1dGhvcigpe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkbid0IGZpbmQgdGhhdCBhdXRob3InKTtcbiAgICAgIH1cblxuICAgICAgLy8gc3luY2hyb25vdXNcbiAgICAgIHRyeSB7XG4gICAgICAgIGZpbmRBdXRob3IoKTtcbiAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9XG5cbiAgICAgIC8vIGFzeW5jIHdpdGggcHJvbWlzZXNcbiAgICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCBjYXRjaFxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICAgKi9cbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbCgpIHtcbiAgICAgIHZhciBsb2NhbDtcblxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsID0gc2VsZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgbG9jYWwgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBQID0gbG9jYWwuUHJvbWlzZTtcblxuICAgICAgaWYgKFAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKSA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsb2NhbC5Qcm9taXNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQ7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2UgPSB7XG4gICAgICAnUHJvbWlzZSc6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0LFxuICAgICAgJ3BvbHlmaWxsJzogbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0XG4gICAgfTtcblxuICAgIC8qIGdsb2JhbCBkZWZpbmU6dHJ1ZSBtb2R1bGU6dHJ1ZSB3aW5kb3c6IHRydWUgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlOyB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZVsnZXhwb3J0cyddKSB7XG4gICAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXNbJ0VTNlByb21pc2UnXSA9IGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0KCk7XG59KS5jYWxsKHRoaXMpO1xuXG4iXX0=","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n","var createXMLHTTPObject = require(\"./util/xhr-factory\");\nvar xmlParser = require(\"./util/parseXML\");\n\n/**\n * Runs feature detections and stores the result for future use.\n *\n * @type {{pushState: boolean, ajax: boolean, localStorage: boolean, sessionStorage: boolean, svg: boolean, parseXML: boolean }}\n */\nmodule.exports = {\n    /**\n     * Browser supports history.pushState()\n     */\n    pushState: typeof window !== \"undefined\" && \"pushState\" in window.history && typeof window.history[\"pushState\"] === \"function\",\n    /**\n     * Browser supports AJAX\n     */\n    ajax: !!createXMLHTTPObject(),\n\n    localStorage: (function ()\n    {\n        try\n        {\n            return typeof window !== \"undefined\" && \"localStorage\" in window && window[\"localStorage\"] !== null;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    })(),\n\n    sessionStorage: (function ()\n    {\n        try\n        {\n            return typeof window !== \"undefined\" &&\"sessionStorage\" in window && window[\"sessionStorage\"] !== null;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    })(),\n\n    svg: (function ()\n    {\n        try\n        {\n            return typeof document !== \"undefined\" && !!document.createElementNS && !!document.createElementNS('http://www.w3.org/2000/svg', \"svg\").createSVGRect;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    })(),\n\n    parseXML: !!xmlParser\n};\n","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar Counter = React.createClass({\n    displayName: \"Counter\",\n\n    getInitialState: function () {\n        return {\n            count: this.props.value\n        };\n    },\n\n    onChange: function () {\n        this.setState({\n            count: this.state.count + 1\n        });\n    },\n\n    render: function () {\n        return React.createElement(\n            \"div\",\n            { className: \"counter\" },\n            React.createElement(\n                \"h3\",\n                null,\n                this.state.count\n            ),\n            React.createElement(\"input\", { type: \"submit\", className: \"btn btn-primary\", value: \"aaa\", onClick: this.onChange })\n        );\n    }\n});\n\nmodule.exports = Counter;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9jb21wb25lbnRzL2NvdW50ZXIvQ291bnRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7O0FBRXBDLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUU1QixtQkFBZSxFQUFFLFlBQ2pCO0FBQ0ksZUFBTztBQUNILGlCQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLO1NBQzFCLENBQUE7S0FDSjs7QUFFRCxZQUFRLEVBQUUsWUFDVjtBQUNJLFlBQUksQ0FBQyxRQUFRLENBQUM7QUFDVixpQkFBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUM7U0FDOUIsQ0FBQyxDQUFDO0tBQ047O0FBRUQsVUFBTSxFQUFFLFlBQ1I7QUFDSSxlQUNJOztjQUFLLFNBQVMsRUFBQyxTQUFTO1lBQ3BCOzs7Z0JBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLO2FBQU87WUFDN0IsK0JBQU8sSUFBSSxFQUFDLFFBQVEsRUFBQyxTQUFTLEVBQUMsaUJBQWlCLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxPQUFPLEVBQUcsSUFBSSxDQUFDLFFBQVEsQUFBRSxHQUFHO1NBQ3ZGLENBQ1I7S0FDTDtDQUNKLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOltudWxsXX0=","module.exports={\n  \"components\": {\n    \"Counter\": {\n      \"props\": {\n        \"value\" : {\n          \"type\" : \"PlainText\"\n        }\n      }\n    }\n  }\n}\n","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar DataGrid = React.createClass({\n    displayName: \"DataGrid\",\n\n    render: function () {\n        return React.createElement(\"div\", null);\n    }\n});\n\nvar ValueLink = require(\"../../util/value-link\");\n\nvar DebounceMixin = require(\"../../mixin/debounce-mixin\");\nvar ComplexComponent = require(\"../../mixin/complex-component\");\nvar StatelessComponent = require(\"../../mixin/stateless-component\");\n\nvar PagingComponent = require(\"../../ui/PagingComponent\");\n\nvar Enum = require(\"../../util/enum\");\n\nvar MAX = 1 << 31;\n\nvar FilterMode = new Enum({\n    CONTAINS: 1,\n    EQUALS: 1,\n    STARTS_WITH: 1\n});\n\nvar Column = React.createClass({\n    displayName: \"Column\",\n\n    propTypes: {\n        filterMode: React.PropTypes.oneOf(FilterMode.values()).isRequired,\n        name: React.PropTypes.string.isRequired,\n        value: React.PropTypes.any\n    },\n    getDefaultProps: function () {\n        return {\n            filterMode: \"CONTAINS\"\n        };\n    },\n    render: function () {\n        var kids = this.props.children;\n\n        if (React.Children.count(kids) === 0) {\n            return React.createElement(\n                \"td\",\n                null,\n                React.createElement(\n                    \"p\",\n                    { className: \"form-control-static\" },\n                    this.props.value\n                )\n            );\n        }\n        return React.createElement(\n            \"td\",\n            null,\n            ri.cloneWithContext(kids, this.props.value)\n        );\n    }\n});\n\nvar FilterField = React.createClass({\n    displayName: \"FilterField\",\n\n    mixins: [DebounceMixin],\n\n    handleChange: function (ev) {\n        this.debounce(function (value) {\n            this.props.valueLink.requestChange(value);\n        }, 250, ev.target.value);\n    },\n\n    render: function () {\n        return React.createElement(\n            \"th\",\n            null,\n            React.createElement(\"input\", { type: \"text\", className: \"form-control\", defaultValue: this.props.valueLink.value, onChange: this.handleChange })\n        );\n    }\n});\n\nvar Header = React.createClass({\n    displayName: \"Header\",\n\n    toggle: function (ev) {\n        var currentSort = this.props.currentSortLink.value;\n\n        if (currentSort === this.props.sort) {\n            this.props.currentSortLink.requestChange(\"!\" + this.props.sort);\n        } else {\n            this.props.currentSortLink.requestChange(this.props.sort);\n        }\n        ev.preventDefault();\n    },\n\n    render: function () {\n        var currentSort = this.props.currentSortLink.value;\n\n        var arrow = false;\n        if (currentSort === this.props.sort) {\n            arrow = React.createElement(\n                \"span\",\n                { className: \"sort-indicator\" },\n                \"\\u21D3\"\n            );\n        } else if (currentSort === \"!\" + this.props.sort) {\n            arrow = React.createElement(\n                \"span\",\n                { className: \"sort-indicator\" },\n                \"\\u21D1\"\n            );\n        }\n\n        return React.createElement(\n            \"th\",\n            null,\n            React.createElement(\n                \"a\",\n                { className: \"header\", href: \"#sort\", onClick: this.toggle },\n                i18n(ri.prop(\"heading\"))\n            ),\n            arrow\n        );\n    }\n});\n\nvar DataGrid = React.createClass({\n    displayName: \"DataGrid\",\n\n    //statics: {\n    //    vars: {\n    //        orderBy: ri.prop(\"orderBy\"),\n    //        filter: {},\n    //        offset: 0,\n    //        limit: ri.prop(\"limit\")\n    //    },\n    //    queries: {\n    //        rows: {\n    //            from: ri.prop(\"type\"),\n    //            orderBy: ri.var(\"orderBy\"),\n    //            filter: ri.var(\"filter\"),\n    //            limit: ri.var(\"limit\"),\n    //            offset: ri.var(\"offset\")\n    //        },\n    //        count: {\n    //            from: ri.prop(\"type\"),\n    //            filter: ri.var(\"filter\"),\n    //            count: true\n    //        }\n    //    }\n    //},\n\n    propTypes: {\n        type: React.PropTypes.string.isRequired,\n        orderBy: React.PropTypes.string,\n        limit: React.PropTypes.number,\n        rows: React.PropTypes.object\n    },\n\n    mixins: [ComplexComponent, StatelessComponent],\n\n    changeSort: function (newValue) {\n        this.updateVars({\n            orderBy: newValue\n        });\n    },\n\n    setFilter: function (v) {\n        var vars = this.getVars();\n\n        this.setVars(React.addons.update(vars, {\n            filter: babelHelpers.defineProperty({}, v.name, { $set: v.value }),\n            // restart paging on filter change\n            offset: { $set: 0 }\n        }));\n    },\n\n    setPagingOffset: function (offset) {\n        this.updateVars({\n            offset: offset\n        });\n    },\n\n    renderHeader: function () {\n        var colCount = 0;\n\n        var type = this.props.type;\n\n        var currentSortLink = new ValueLink(ri.var(\"orderBy\"), this.changeSort);\n        return React.createElement(\n            \"tr\",\n            null,\n            React.Children.map(this.props.children, function (kid) {\n                if (kid.type !== Column) {\n                    throw new Error(\"Datagrid component should only have Datagrid.Column children.\");\n                }\n                return React.createElement(Header, {\n                    key: colCount++,\n                    currentSortLink: currentSortLink,\n                    heading: type + \".\" + kid.props.name,\n                    sort: kid.props.name\n                });\n            }, this)\n        );\n    },\n\n    renderFilter: function () {\n        var colCount = 0;\n        var activeFilters = ri.var(\"filter\");\n\n        var dataGridComponent = this;\n\n        return React.createElement(\n            \"tr\",\n            null,\n            React.Children.map(this.props.children, function (kid) {\n                return React.createElement(FilterField, { key: colCount++,\n                    name: kid.props.name,\n                    valueLink: new ValueLink(activeFilters[kid.props.name], function (value) {\n                        dataGridComponent.setFilter({ name: kid.props.name, value: value });\n                    })\n                });\n            }, this)\n        );\n    },\n\n    render: function () {\n        //console.log(\"COUNT\", this.props.count);\n\n        var colCount;\n        var rowCount = 0;\n        var rows = this.props.rows.map(function (row) {\n            rowCount++;\n            colCount = 0;\n\n            return React.createElement(\n                \"tr\",\n                { key: rowCount },\n                React.Children.map(this.props.children, function (kid) {\n                    return React.cloneElement(kid, {\n                        key: colCount++,\n                        value: row[kid.props.name]\n                    });\n                }, this)\n            );\n        }, this);\n\n        if (!rows.length) {\n            rows = React.createElement(\n                \"tr\",\n                null,\n                React.createElement(\n                    \"td\",\n                    { colSpan: React.Children.count(this.props.children) },\n                    i18n(\"No Rows\")\n                )\n            );\n        }\n\n        return React.createElement(\n            \"div\",\n            { className: \"datagrid\" },\n            React.createElement(\n                \"table\",\n                { className: \"table table-striped table-hover table-bordered\" },\n                React.createElement(\n                    \"thead\",\n                    null,\n                    this.renderHeader(),\n                    this.renderFilter()\n                ),\n                React.createElement(\n                    \"tbody\",\n                    null,\n                    rows\n                )\n            ),\n            React.createElement(PagingComponent, {\n                offsetLink: new ValueLink(ri.var(\"offset\"), this.setPagingOffset),\n                limit: ri.var(\"limit\"),\n                rowCount: this.props.count\n            })\n        );\n    }\n});\n\nDataGrid.Column = Column;\n\nmodule.exports = DataGrid;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9jb21wb25lbnRzL2RhdGFncmlkL0RhdGFHcmlkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUFZLENBQUM7O0FBRWIsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDOztBQUVwQyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDN0IsVUFBTSxFQUFFLFlBQ1I7QUFDSSxlQUFTLGdDQUFNLENBQUc7S0FFckI7Q0FDSixDQUFDLENBQUM7O0FBRUgsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUM7O0FBRWpELElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0FBQzFELElBQUksZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQUM7QUFDaEUsSUFBSSxrQkFBa0IsR0FBRyxPQUFPLENBQUMsaUNBQWlDLENBQUMsQ0FBQzs7QUFFcEUsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7O0FBRTFELElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDOztBQUV0QyxJQUFNLEdBQUcsR0FBRyxDQUFDLElBQUUsRUFBRSxDQUFDOztBQUVsQixJQUFJLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQztBQUN0QixZQUFRLEVBQUUsQ0FBQztBQUNYLFVBQU0sRUFBRSxDQUFDO0FBQ1QsZUFBVyxFQUFFLENBQUM7Q0FDakIsQ0FBQyxDQUFDOztBQUdILElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMzQixhQUFTLEVBQUU7QUFDUCxrQkFBVSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLFVBQVU7QUFDakUsWUFBSSxFQUFF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LE1BQU0sRUFDaEI7QUFDSSxnQkFBSSxHQUFHOzs7Z0JBQUk7O3NCQUFJLE9BQU8sRUFBRyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxBQUFFO29CQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7aUJBQU87YUFBSyxDQUFBO1NBQ3JHOztBQUdELGVBQ0k7O2NBQUssU0FBUyxFQUFDLFVBQVU7WUFDckI7O2tCQUFPLFNBQVMsRUFBQyxnREFBZ0Q7Z0JBQzdEOzs7b0JBQ0UsSUFBSSxDQUFDLFlBQVksRUFBRTtvQkFDbkIsSUFBSSxDQUFDLFlBQVksRUFBRTtpQkFDYjtnQkFDUjs7O29CQUNHLElBQUk7aUJBQ0M7YUFDSjtZQUNSLG9CQUFDLGVBQWU7QUFDWiwwQkFBVSxFQUFHLElBQUksU0FBUyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBRSxBQUFFO0FBQ3JFLHFCQUFLLEVBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQUFBRTtBQUN6Qix3QkFBUSxFQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxBQUFFO2NBQzNCO1NBQ0osQ0FDUjtLQUNMO0NBQ0osQ0FBQyxDQUFDOztBQUVILFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUV6QixNQUFNLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOltudWxsXX0=","module.exports={\n    \"components\": {\n        \"DataGrid\": {\n            \"vars\": {},\n            \"props\": {}\n        },\n        \"DataGrid.Column\": {\n            \"vars\": {},\n            \"props\": {\n                \"name\": {\n                    \"type\": \"ModelReference\",\n                    \"param\": \"domain.DomainProperty\"\n                },\n                \"filterMode\": {\n                    \"type\": \"enum\",\n                    \"param\": \"\"\n                },\n                \"value\": {\n                    \"type\": \"Any\"\n                }\n            }\n        }\n    }\n}\n","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar Heading = React.createClass({\n    displayName: \"Heading\",\n\n    render: function () {\n        return React.createElement(\n            \"h2\",\n            null,\n            this.props.value\n        );\n    }\n});\n\nvar HR = React.createClass({\n    displayName: \"HR\",\n\n    render: function () {\n        return React.createElement(\"hr\", null);\n    }\n});\n\nHeading.HR = HR;\n\nmodule.exports = Heading;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9jb21wb25lbnRzL2hlYWRpbmcvSGVhZGluZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7O0FBRXBDLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUU1QixVQUFNLEVBQUUsWUFDUjtBQUNJLGVBQ0k7OztZQUNNLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSztTQUNqQixDQUNSO0tBQ0o7Q0FDSixDQUFDLENBQUM7O0FBRUgsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBRXZCLFVBQU0sRUFBRSxZQUNSO0FBQ0ksZUFDSSwrQkFBSyxDQUNSO0tBQ0o7Q0FDSixDQUFDLENBQUM7O0FBRUgsT0FBTyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7O0FBRWhCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6W251bGxdfQ==","module.exports={\n  \"components\": {\n    \"Heading\": {\n      \"queries\" : {\n        \"test\" : { \"from\": \"Test\" }\n      },\n      \"props\" : {\n        \"value\" : {\n          \"type\" : \"PlainText\"\n        },\n        \"size\" : {\n          \"type\" : \"Integer\"\n        }\n      }\n    },\n    \"Heading.HR\": {\n      \"props\" : {\n        \"value\" : {\n          \"type\" : \"PlainText\"\n        }\n      }\n    }\n  }\n}\n","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar InputElement = React.createClass({\n    displayName: \"InputElement\",\n\n    onChange: function () {\n        console.log(\"change\");\n    },\n\n    render: function () {\n        return React.createElement(\n            \"form\",\n            { action: \"/app/exceed/\" },\n            React.createElement(\"input\", { type: \"text\", name: \"test\", defaultValue: \"Change me\", onChange: this.onChange })\n        );\n    }\n});\n\nmodule.exports = InputElement;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9jb21wb25lbnRzL2lucHV0L0lucHV0RWxlbWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7O0FBRXBDLElBQUksWUFBWSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUVqQyxZQUFRLEVBQUUsWUFDVjtBQUNJLGVBQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDekI7O0FBRUQsVUFBTSxFQUFFLFlBQ1I7QUFDSSxlQUNJOztjQUFNLE1BQU0sRUFBQyxjQUFjO1lBQ3ZCLCtCQUFPLElBQUksRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBRyxJQUFJLENBQUMsUUFBUSxBQUFFLEdBQUc7U0FDbEYsQ0FDVjtLQUNKO0NBQ0osQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6W251bGxdfQ==","module.exports={\n  \"components\": {\n    \"InputElement\": {\n      \"props\": {\n        \"value\" : {\n          \"type\" : \"PlainText\"\n        }\n      }\n    }\n  }\n}\n","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar extend = require(\"extend\");\nvar ajax = require(\"./service/ajax\");\n\nvar uri = require(\"./util/uri\");\n\nvar idCount = 0;\n\nif (undefined !== \"production\") {\n    var warnOnce = require(\"./util/warn-once\");\n}\n\nvar Alert = React.createClass({\n    displayName: \"Alert\",\n\n    render: function () {\n        var detail;\n        if (this.props.detail) {\n            detail = React.createElement(\n                \"pre\",\n                { className: \"text-danger\" },\n                this.props.detail\n            );\n        }\n\n        return React.createElement(\n            \"div\",\n            { className: \"alert alert-danger\" },\n            this.props.message,\n            detail\n        );\n    }\n});\nvar missingFunctionValues = {};\n\nvar compositors = [];\n\n/**\n *\n * Creates a compositor instance tied to a mount point element in the DOM.\n *\n * @param views     static require map a la bulkify\n * @param elem      DOM element\n * @constructor\n */\nfunction Compositor(views, elem) {\n\n    this.views = views;\n    this.elem = elem;\n\n    if (elem.id) {\n        this.id = elem.id;\n    } else {\n        this.id = \"id\" + ++idCount;\n        elem.id = this.id;\n    }\n\n    compositors.push(this);\n}\n\nextend(Compositor.prototype, {\n\n    /**\n     * Creates a view compontent\n     *\n     * @param viewName      {string|ReactClass} view module name or component class\n     * @param props         view component props\n     *\n     * @returns {ReactElement} view component element\n     */\n    createView: function (viewName, props) {\n        if (!viewName) {\n            return React.createElement(Alert, { message: \"No viewName\", detail: \"Props:\\n\" + JSON.stringify(props, null, \"  \") });\n        }\n\n        if (typeof viewName === \"string\") {\n            var parts = viewName.split(\"/\");\n\n            var pointer = this.views;\n            for (var i = 0; i < parts.length; i++) {\n                pointer = pointer[parts[i]];\n                if (!pointer) {\n                    return React.createElement(Alert, { message: \"React view module '\" + viewName + \"' not found.\",\n                        detail: \"Props:\\n\" + JSON.stringify(props, null, \"  \") });\n                }\n            }\n            return React.createElement(pointer, props);\n        } else {\n            // non-string viewName assumed to the react component\n            return React.createElement(viewName, props);\n        }\n    },\n\n    /**\n     * Renders a view or a component into the given DOM element.\n     *\n     * @param viewName              {(string|Object)?}view module name or react component\n     * @param props                 {Object?} component props. If not given, an initial data lookup is performed\n     * @param callback              {function?} callback to call after rendering (gets passed to React.render)\n     */\n    render: function (viewName, props, callback) {\n\n        if (!props) {\n            var script = document.getElementById(this.id + \"-data\");\n\n            if (script && script.getAttribute(\"type\") === \"application/x-initial-data\") {\n                var data = JSON.parse(script.innerHTML);\n                props = data.props;\n            } else {\n                props = null;\n            }\n        }\n\n        var compositor = this;\n\n        viewName = viewName || this.elem.dataset.compositor;\n\n        ri.startFunctionTracking(this.id);\n\n        var component = compositor.createView(viewName, props);\n\n        React.render(component, compositor.elem, function () {\n            compositor.rootComponent = component;\n            compositor.viewName = viewName;\n            compositor.props = props;\n\n            var missingCalls = ri.getMissingCalls(compositor.id);\n            if (missingCalls.length && Compositor.retryMissingFunctions) {\n                compositor.requestMissing(missingCalls).then(function (data) {\n                    ri.fillCache(data);\n\n                    ri.startFunctionTracking(compositor.id);\n\n                    React.render(component, compositor.elem, function () {\n                        var missingFunctionValues = ri.getMissingCalls(compositor.id);\n                        if (missingFunctionValues.length) {\n                            console.warn(\"Still missing function values after requesting them: \" + JSON.stringify(missingFunctionValues));\n                        }\n\n                        if (callback) {\n                            callback(compositor);\n                        }\n                    });\n                }).catch(function (e) {\n                    console.error(\"Error rerendering\", e);\n                });\n            } else {\n                if (callback) {\n                    callback(compositor);\n                }\n            }\n        });\n    },\n    updateComponent: function (component, vars) {\n        var props = component.props;\n        if (!props || !props._injection) {\n            throw new Error(component + \" is not a injected component\");\n        }\n\n        var compositor = this;\n        var index = props._injection.index;\n        ajax({\n            url: uri(\"/inject/update\", {\n                compositor: compositor.viewName,\n                index: index,\n                vars: JSON.stringify(vars)\n            }),\n            method: \"GET\"\n        }).then(function (data) {\n            var oldProps = compositor.rootComponent.props;\n            var newProps = React.addons.update(oldProps, {\n                _injections: { $splice: [[index, 1, data.value]] },\n                _functionValues: { $set: data.functionValues }\n            });\n\n            compositor.render(compositor.viewName, newProps, Compositor.updateHistory);\n        }).catch(function (err) {\n            console.log(\"Error updating component #\" + index + \" in '\" + compositor.viewName + \", vars = \" + JSON.stringify(vars) + \":\\n\", err);\n        });\n    },\n\n    requestMissing: function (missingFunctionValues) {\n        var json = JSON.stringify({\n            calls: missingFunctionValues\n        });\n\n        console.info(\"Requesting missing function values: \" + json);\n\n        return ajax({\n            url: uri(\"/inject/runtimeCalls\", {\n                compositor: this.viewName,\n                calls: json\n            })\n        });\n    },\n\n    navigateTo: function (url) {\n        var compositor = this;\n\n        return ajax({\n            url: url\n        }).then(function (data) {\n            window.history.pushState({\n                jsViewName: data.jsViewName,\n                props: data.props,\n                id: compositor.elem.id\n            }, \"title\", url);\n\n            return new Promise(function (resolve, reject) {\n                compositor.render(data.jsViewName, data.props, resolve);\n            });\n        }).catch(function (e) {\n            // if we received a NOT_ACCEPTABLE or there was a JSON parsing error\n            if (e.status === 406 || e.error && e.error.indexOf(\"Error parsing JSON\") >= 0) {\n                // warn and redirect to the original URL\n\n                if (undefined !== \"production\") {\n                    warnOnce(url, \"AJAX request to '\" + url + \"' failed.\\nYou might want to declare the link ajax={ false }\");\n                }\n\n                window.location.href = url;\n            }\n        });\n    }\n});\n\nCompositor.clearCompositorRegistry = function () {\n    compositors = [];\n};\n\nCompositor.find = function (elem) {\n    for (var i = 0; i < compositors.length; i++) {\n        var compositor = compositors[i];\n        if (compositor === elem || compositor.elem.contains(elem)) {\n            return compositor;\n        }\n    }\n    return null;\n};\n\nCompositor.updateHistory = function (compositor) {\n    if (compositor.id === \"root\") {\n        var state = {\n            jsViewName: compositor.viewName,\n            props: compositor.props,\n            id: compositor.id\n        };\n\n        //console.log(\"UPDATE\", state.props._injections);\n\n        window.history.replaceState(state, \"title\", window.location.href);\n    }\n};\n\nwindow.onpopstate = function (ev) {\n    var state = ev.state;\n    //console.log(\"POP\", state.jsViewName, history.state.jsViewName);\n\n    var elem = document.getElementById(state.id);\n    var mp = Compositor.find(elem);\n\n    mp.render(state.jsViewName, state.props);\n};\n\n// if we encounter missing functions during a render, we request the missing values via AJAX and rerender\nCompositor.retryMissingFunctions = true;\n\nmodule.exports = Compositor;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9jb21wb3NpdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUFZLENBQUM7O0FBRWIsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzs7QUFFckMsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDOztBQUVoQyxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7O0FBRWhCLElBQUksY0FBeUIsWUFBWSxFQUN6QztBQUNJLFFBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0NBQzlDOztBQUVELElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMxQixVQUFNLEVBQUUsWUFDUjtBQUNJLFlBQUksTUFBTSxDQUFDO0FBQ1gsWUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFDckI7QUFDSSxrQkFBTSxHQUNGOztrQkFBSyxTQUFTLEVBQUMsYUFBYTtnQkFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNO2FBQ2pCLEFBQ1QsQ0FBQTtTQUNKOztBQUVELGVBQ0k7O2NBQUssU0FBUyxFQUFDLG9CQUFvQjtZQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU87WUFDbEIsTUFBTTtTQUNOLENBQ1I7S0FDTDtDQUNKLENBQUMsQ0FBQztBQUNILElBQUkscUJBQXFCLEdBQUcsRUFBRSxDQUFDOztBQUUvQixJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7Ozs7Ozs7Ozs7QUFVckIsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLElBQUksRUFDL0I7O0FBRUksUUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFD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QUM1QjtBQUNJLFlBQUksS0FBSyxHQUFHO0FBQ1Isc0JBQVUsRUFBRSxVQUFVLENBQUMsUUFBUTtBQUMvQixpQkFBSyxFQUFFLFVBQVUsQ0FBQyxLQUFLO0FBQ3ZCLGNBQUUsRUFBRSxVQUFVLENBQUMsRUFBRTtTQUNwQixDQUFDOzs7O0FBSUYsY0FBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JFO0NBQ0osQ0FBQzs7QUFFRixNQUFNLENBQUMsVUFBVSxHQUFHLFVBQVUsRUFBRSxFQUNoQztBQUNJLFFBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7OztBQUdyQixRQUFJLElBQUksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM3QyxRQUFJLEVBQUUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUUvQixNQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBRTVDLENBQUM7OztBQUdGLFVBQVUsQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUM7O0FBRXhDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6W251bGxdfQ==","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar classes = require(\"classnames\");\n\nvar EDITOR_STORAGE_KEY = \"InPageEditorState\";\n\nvar InPageEditor = React.createClass({\n    displayName: \"InPageEditor\",\n\n    getInitialState: function () {\n        var item = sessionStorage.getItem(EDITOR_STORAGE_KEY);\n\n        return item ? JSON.parse(item) : {\n            active: false\n        };\n    },\n    componentWillUpdate: function (nextProps, nextState) {\n        sessionStorage.setItem(EDITOR_STORAGE_KEY, JSON.stringify(nextState));\n    },\n    toggle: function () {\n        this.setState({\n            active: !this.state.active\n        });\n    },\n    render: function () {\n        return React.createElement(\n            \"div\",\n            { className: classes(\"editor\", this.state.active ? \"active\" : \"inactive\") },\n            React.createElement(\n                \"div\",\n                { className: \"editor-tab\", onClick: this.toggle },\n                \"E\"\n            ),\n            this.state.active && React.createElement(\n                \"div\",\n                { className: \"container-fluid\" },\n                React.createElement(\n                    \"h1\",\n                    null,\n                    \"Editor\"\n                ),\n                React.createElement(\n                    \"pre\",\n                    null,\n                    JSON.stringify(this.props.model, null, \"    \")\n                )\n            )\n        );\n    }\n});\n\nmodule.exports = InPageEditor;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9lZGl0b3IvSW5QYWdlRWRpdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQzs7QUFFcEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDOztBQUVwQyxJQUFNLGtCQUFrQixHQUFHLG1CQUFtQixDQUFDOztBQUcvQyxJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDakMsbUJBQWUsRUFBRSxZQUNqQjtBQUNJLFlBQUksSUFBSSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQzs7QUFFdEQsZUFBTyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRztBQUM3QixrQkFBTSxFQUFFLEtBQUs7U0FDaEIsQ0FBQztLQUNMO0FBQ0QsdUJBQW1CLEVBQUUsVUFBVSxTQUFTLEVBQUUsU0FBUyxFQUNuRDtBQUNJLHNCQUFjLENBQUMsT0FBTyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztLQUN6RTtBQUNELFVBQU0sRUFBRSxZQUNSO0FBQ0ksWUFBSSxDQUFDLFFBQVEsQ0FBQztBQUNWLGtCQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU07U0FDN0IsQ0FBQyxDQUFBO0tBQ0w7QUFDRCxVQUFNLEVBQUUsWUFDUjtBQUNJLGVBQ1E7O2NBQUssU0FBUyxFQUFHLE9BQU8sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsUUFBUSxHQUFHLFVBQVUsQ0FBQyxBQUFFO1lBQzNFOztrQkFBSyxTQUFTLEVBQUMsWUFBWSxFQUFDLE9BQU8sRUFBRyxJQUFJLENBQUMsTUFBTSxBQUFFOzthQUFRO1lBQ3pELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUVmOztrQkFBSyxTQUFTLEVBQUMsaUJBQWlCO2dCQUM1Qjs7OztpQkFBZTtnQkFDZjs7O29CQUNNLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQztpQkFDOUM7YUFDSjtTQUVSLENBQ1o7S0FDTDtDQUNKLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOltudWxsXX0=","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar Compositor = require(\"../compositor\");\n\nvar ComplexComponent = {\n\n    /**\n     * Returns the current vars for this component.\n     *\n     * @returns {Object} current vars map.\n     */\n    getVars: function () {\n        var injection = this.props._injection;\n        return injection && injection.vars;\n    },\n\n    /**\n     * Finds the compositor instance for the current component.\n     *\n     * Note that this is *not* the compositor component, but react-inject Compositor instance.\n     *\n     */\n    findCompositor: function () {\n        return Compositor.find(React.findDOMNode(this));\n    },\n\n    /**\n     * Updates the current vars for this component by merging the given new values\n     * with the current vars.\n     *\n     * @param newVars\n     */\n    updateVars: function (newVars) {\n        var compositor = this.findCompositor();\n        var vars = React.addons.update(this.getVars(), { $merge: newVars });\n        compositor.updateComponent(this, vars);\n    },\n    /**\n     * Replaces all vars for this component with the new values.\n     *\n     * @param newVars\n     */\n    setVars: function (newVars) {\n        var compositor = this.findCompositor();\n        compositor.updateComponent(this, newVars);\n    }\n\n};\n\nmodule.exports = ComplexComponent;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9taXhpbi9jb21wbGV4LWNvbXBvbmVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxDQUFDOztBQUViLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNwQyxJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRTFDLElBQUksZ0JBQWdCLEdBQUc7Ozs7Ozs7QUFPbkIsV0FBTyxFQUFFLFlBQ1Q7QUFDSSxZQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQztBQUN0QyxlQUFPLFNBQVMsSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDO0tBQ3RDOzs7Ozs7OztBQVFELGtCQUFjLEVBQUUsWUFDaEI7QUFDSSxlQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0tBQ25EOzs7Ozs7OztBQVFELGNBQVUsRUFBRSxVQUFTLE9BQU8sRUFDNUI7QUFDSSxZQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDdkMsWUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBQyxDQUFDLENBQUM7QUFDbEUsa0JBQVUsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzFDOzs7Ozs7QUFNRCxXQUFPLEVBQUUsVUFBUyxPQUFPLEVBQ3pCO0FBQ0ksWUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ3ZDLGtCQUFVLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztLQUM3Qzs7Q0FFSixDQUFDOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsZ0JBQWdCLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbbnVsbF19","var DebounceMixin = {\n    debounce: function (func, time)\n    {\n        var args = Array.prototype.slice.call(arguments, 2);\n\n        var ctx = this;\n        var timeout = ctx.debouncedTimeout;\n        if (timeout)\n        {\n            clearTimeout(timeout);\n        }\n\n        ctx.debouncedTimeout = setTimeout(function ()\n        {\n            ctx.debouncedTimeout = null;\n            func.apply(ctx, args);\n\n        } , time);\n    }\n};\n\nmodule.exports = DebounceMixin;\n","var StatelessComponent = {\n\n    /**\n     * Decides updates based on the object identity of the original injection value. Since we do immutable updates\n     * when updating the injection tree, this can quickly tell that things could not possibly have changed for this\n     * component as all injections (and therefore vars) are the exact same as they were before.\n     *\n     * Do *not* mix this in if your component has state.\n     *\n     * @param nextProps\n     * @returns {boolean}\n     */\n    shouldComponentUpdate: function (nextProps)\n    {\n        if (!this.props._injection)\n        {\n            return true;\n        }\n        var result = this.props._injection.injection !== nextProps._injection.injection;\n        console.info(\"Update %s => %s\", this.__proto__.constructor.displayName, result);\n        return result;\n    }\n\n};\n\nmodule.exports = StatelessComponent;\n","var Promise = require(\"es6-promise\").Promise;\nvar extend = require(\"extend\");\nvar cando = require(\"../cando\");\n\nvar Enum = require(\"./../util/enum\");\n\nvar createXMLHTTPObject = require(\"./../util/xhr-factory\");\n\n\nvar HttpMethod = new Enum({\n    GET: true,\n    POST: true\n});\n\nvar DataType = new Enum({\n    JSON: true,\n    TEXT: true\n});\n\nvar defaultOpts = {\n    method: \"get\",\n    dataType: DataType.JSON,\n    headers: null\n};\n\nvar contentType = {};\ncontentType[DataType.JSON] = \"application/json\";\ncontentType[DataType.TEXT] = \"text/plain\";\n\n\nvar csrfToken;\nvar csrfTokenHeader;\n\nfunction logError(err)\n{\n    var s = [];\n    for (var name in err)\n    {\n        if (err.hasOwnProperty(name))\n        {\n            l.push(name + \" = \" + err[name] );\n        }\n    }\n\n    console.error(\"Request failed: %s\", l.join(\", \"));\n}\n\nfunction serialize(data)\n{\n    var s = \"\";\n\n    for (var k in data)\n    {\n        if (data.hasOwnProperty(k))\n        {\n            s += (s.length ? \"&\" : \"\") + encodeURIComponent(k) + \"=\" + encodeURIComponent(data[k]);\n        }\n    }\n    return s;\n}\n\n\n/**\n * Requests an URL from the server via AJAX and returns a promise resolving to the returned data.\n *\n * @param opts              options\n * @param opts.url          [string} url\n * @param opts.method       HTTP method (default = \"get\")\n * @param opts.data         {string|object} POST data\n * @param opts.dataType     {string} expected data type of the resonse (default = \"JSON\")\n * @param opts.contentType  [string} POST content type. data should be a string in this case.\n *\n * @returns promise resolving to the requested data in the type corresponding to the dataType option.\n */\nmodule.exports = function(opts)\n{\n    opts = extend({}, defaultOpts, opts);\n\n    if (!csrfToken)\n    {\n        csrfToken = document.querySelector(\"meta[name='token']\").getAttribute(\"content\");\n        csrfTokenHeader = document.querySelector(\"meta[name='token-type']\").getAttribute(\"content\");\n    }\n\n    var promise = new Promise(function (resolve, reject)\n    {\n        if (typeof opts.url !== \"string\")\n        {\n            reject({\n                status: 0,\n                error: \"No url\",\n                xhr: null\n            });\n        }\n\n        var dataType = opts.dataType.toUpperCase();\n        if (!DataType.isValid(dataType))\n        {\n            reject({\n                status: 0,\n                error: \"Invalid dataType: \" + opts.dataType,\n                xhr: null\n            });\n            return;\n        }\n\n        if (!HttpMethod.isValid(opts.method.toUpperCase()))\n        {\n            reject({\n                status: 0,\n                error: \"Invalid method: \" + opts.method,\n                xhr: null\n            });\n            return;\n        }\n\n        var xhr = createXMLHTTPObject();\n        if (!xhr)\n        {\n            reject({\n                status: 0,\n                error: \"Could not create XMLHTTPObject\",\n                xhr: null\n            });\n            return;\n        }\n        var method = opts.method.toUpperCase();\n        xhr.open(method, opts.url, true);\n        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n        xhr.setRequestHeader(\"Accept\", contentType[opts.dataType]);\n\n        var headers = opts.headers;\n        if (headers)\n        {\n            for (var name in headers)\n            {\n                if (headers.hasOwnProperty(name))\n                {\n                    xhr.setRequestHeader(name, headers[name]);\n                }\n            }\n        }\n\n        var data = null;\n        if (method === \"POST\")\n        {\n            xhr.setRequestHeader(csrfTokenHeader, csrfToken);\n            xhr.setRequestHeader(\"Content-type\", opts.contentType || \"application/x-www-form-urlencoded\");\n\n            data = opts.data || \"\";\n            if (typeof data !== \"string\")\n            {\n                data = serialize(data);\n            }\n        }\n\n        xhr.onreadystatechange = function ()\n        {\n            if (xhr.readyState != 4)\n            {\n                return;\n            }\n            if (xhr.status != 200 && xhr.status != 304)\n            {\n                reject({\n                    status: xhr.status,\n                    xhr: xhr,\n                    error: \"HTTP error \" + xhr.status\n                });\n                return;\n            }\n\n            var responseText = xhr.responseText;\n\n            if (dataType === DataType.JSON)\n            {\n                try\n                {\n                    var data = JSON.parse(responseText);\n                    resolve( data );\n                }\n                catch(e)\n                {\n                    reject({\n                        status: xhr.status,\n                        xhr: xhr,\n                        error: \"Error parsing JSON: \" + e.message\n                    });\n                }\n            }\n            else if (dataType === DataType.TEXT)\n            {\n                resolve(responseText);\n            }\n        };\n\n        if (xhr.readyState == 4)\n        {\n            return;\n        }\n        xhr.send(data);\n    });\n\n    // install default error logger\n    promise.then(null, logError);\n\n    return promise;\n};\n","\nvar extend = require(\"extend\");\n\nvar components = {};\n\n\nfunction registerMapRecursively(map)\n{\n    //console.debug(\"registerMapRecursively\", componentsMap, path);\n    for (var name in map)\n    {\n        if (map.hasOwnProperty(name))\n        {\n            var value = map[name];\n            if (typeof value === \"object\")\n            {\n                if (name === \"component\")\n                {\n                    if (value.components && typeof value.components === \"object\")\n                    {\n                        ComponentService.register(map, value);\n                    }\n                }\n                else\n                {\n                    registerMapRecursively(map[name], value);\n                }\n            }\n        }\n    }\n}\n\nvar ComponentService = {\n    getComponents: function ()\n    {\n        return components;\n    },\n\n    registerBulk: function (bulkMap)\n    {\n        registerMapRecursively(bulkMap);\n    },\n    register: function(dir, def)\n    {\n        //console.log(\"register def\", dir.DataGrid, def);\n\n        var subComponents = def.components;\n        for (var name in subComponents)\n        {\n            if (subComponents.hasOwnProperty(name))\n            {\n                var componentDef = subComponents[name];\n\n                var parts = name.split(\".\");\n\n                var component = dir;\n                for (var i = 0; i < parts.length; i++)\n                {\n                    component = component[parts[i]];\n                    if (!component)\n                    {\n                        throw new Error(\"Cannot find module for declared component '\" + name + \"'\");\n                    }\n                }\n\n                components[name] = extend({\n                    component : component\n                }, componentDef);\n            }\n        }\n    }\n};\n\nwindow.ComponentService = ComponentService;\n\nmodule.exports = ComponentService;\n","var roles = {};\n\nmodule.exports = {\n    init: function ()\n    {\n        var rolesArray = document.body.dataset.roles.replace(\" \", \"\").split(\",\");\n        for (var i = 0; i < rolesArray.length; i++)\n        {\n            roles[rolesArray[i]] = true;\n        }\n    },\n    hasRole: function (role)\n    {\n        return !!roles[role];\n    }\n};\n","(function (global){\n\"use strict\";\n\nvar componentService = require(\"./component\");\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar extend = require(\"extend\");\n\nvar components = componentService.getComponents();\n\nvar viewComponents = {};\n\nfunction indent(buf, depth) {\n    for (var i = 0; i < depth; i++) {\n        buf.push(\"    \");\n    }\n}\n\nvar generatedIdRegEx = /^id-[a-z0-5]+$/;\n\nvar expressionRegEx = /^\\{\\s*(.*?)\\s*}$/;\n\nwindow.debug = function (a) {\n    console.log(\"DEBUG\", a);\n    return a;\n};\n\nfunction renderRecursively(buf, componentModel, depth, usedComponents) {\n    var name = componentModel.name;\n    var code, value, component, m;\n\n    var componentDescriptor;\n    var isComponent = components.hasOwnProperty(name);\n    if (isComponent) {\n        componentDescriptor = components[name];\n        component = name;\n\n        usedComponents[name.split(\".\")[0]] = true;\n    } else {\n        component = JSON.stringify(name);\n    }\n\n    var attrs = componentModel.attrs;\n    var queries = componentDescriptor && componentDescriptor.queries;\n\n    indent(buf, depth);\n    buf.push(\"React.createElement(\", component, \", \");\n\n    if (queries) {\n        buf.push(\"extend({\\n\");\n    } else {\n        buf.push(\"{\\n\");\n    }\n\n    var first = true;\n    for (var attrName in attrs) {\n        if (attrs.hasOwnProperty(attrName)) {\n            value = attrs[attrName];\n\n            if (isComponent || attrName !== \"id\" || !generatedIdRegEx.test(value)) {\n\n                if (!first) {\n                    buf.push(\",\\n\");\n                }\n                first = false;\n\n                var last = value.length - 1;\n                if (typeof value === \"string\" && (m = expressionRegEx.exec(value))) {\n                    code = m[1];\n                } else {\n                    code = JSON.stringify(value);\n                }\n\n                indent(buf, depth + 2);\n                buf.push(JSON.stringify(attrName), \" : \", code);\n            }\n        }\n    }\n\n    if (queries) {\n        buf.push(\"\\n\");\n        indent(buf, depth + 1);\n        buf.push(\"}, this.props.componentData[\\\"\" + attrs.id + \"\\\"])\");\n    } else {\n        buf.push(\"\\n\");\n        indent(buf, depth + 1);\n        buf.push(\"}\");\n    }\n\n    var kids = componentModel.kids;\n    if (kids) {\n        for (var i = 0; i < kids.length; i++) {\n            buf.push(\",\\n\");\n            var kidModel = kids[i];\n            renderRecursively(buf, kidModel, depth + 1, usedComponents);\n        }\n    }\n    buf.push(\"\\n\");\n    indent(buf, depth);\n    buf.push(\")\");\n}\n\n/**\n * Handles converting the view JSON models into js code and caching the React component results.\n *\n * @type {{}}\n */\nvar ViewService = {\n\n    renderView: function (name, model) {\n        var buf = [\"\\nreturn React.createClass({\\n    displayName: \\\"\" + name + \"\\\",\\n\\n    render: function ()\\n    {\\n        return (\\n\\n\"];\n\n        var usedComponents = {};\n\n        renderRecursively(buf, model.root, 3, usedComponents);\n\n        for (var componentName in usedComponents) {\n            if (usedComponents.hasOwnProperty(componentName)) {\n                buf.splice(0, 0, \"var \" + componentName + \" = components[\\\"\" + componentName + \"\\\"].component;\\n\");\n            }\n        }\n\n        buf.push(\"\\n        );\\n    }\\n});\");\n        return buf.join(\"\");\n    },\n\n    getViewComponent: function (name, model, regenerate) {\n        var component = viewComponents[name];\n        if (!component || regenerate) {\n            var code = ViewService.renderView(name, model);\n\n            console.debug(code);\n\n            component = new Function(\"React\", \"components\", \"extend\", code)(React, components, extend);\n\n            viewComponents[name] = component;\n        }\n\n        return component;\n    }\n};\nmodule.exports = ViewService;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy9zZXJ2aWNlL3ZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsSUFBSSxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7O0FBRTlDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRS9CLElBQUksVUFBVSxHQUFHLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxDQUFDOztBQUVsRCxJQUFJLGNBQWMsR0FBRyxFQUVwQixDQUFDOztBQUVGLFNBQVMsTUFBTSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQzFCO0FBQ0ksU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFDOUI7QUFDSSxXQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQ3BCO0NBQ0o7O0FBRUQsSUFBSSxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQzs7QUFFeEMsSUFBSSxlQUFlLEdBQUcsa0JBQWtCLENBQUM7O0FBRXpDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLEVBQzFCO0FBQ0ksV0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDeEIsV0FBTyxDQUFDLENBQUM7Q0FDWixDQUFDOztBQUVGLFNBQVMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUNyRTtBQUNJLFFBQUksSUFBSSxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUM7QUFDL0IsUUFBSSxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7O0FBRTlCLFFBQUksbUJBQW1CLENBQUM7QUFDeEIsUUFBSSxXQUFXLEdBQUcsVUFBVSxDQUFD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QUNuRDtBQUNJLFlBQUksU0FBUyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNyQyxZQUFJLENBQUMsU0FBUyxJQUFJLFVBQVUsRUFDNUI7QUFDSSxnQkFBSSxJQUFJLEdBQUcsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7O0FBRS9DLG1CQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVwQixxQkFBUyxHQUFHLElBQUksUUFBUSxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7O0FBRTNGLDBCQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDO1NBQ3BDOztBQUVELGVBQU8sU0FBUyxDQUFDO0tBQ3BCO0NBQ0osQ0FBQztBQUNGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6W251bGxdfQ==","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar Alert = React.createClass({\n    displayName: \"Alert\",\n\n    propTypes: React.PropTypes.string.isRequired,\n    render: function () {\n        return React.createElement(\n            \"div\",\n            { className: \"bg-danger\" },\n            this.props.message\n        );\n    }\n});\n\nmodule.exports = Alert;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy91aS9BbGVydC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7O0FBRXBDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMxQixhQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtBQUM1QyxVQUFNLEVBQUUsWUFDUjtBQUNJLGVBQ0k7O2NBQUssU0FBUyxFQUFDLFdBQVc7WUFDcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPO1NBQ2xCLENBQ1I7S0FDTDtDQUNKLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOltudWxsXX0=","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar hasClass = require(\"../util/has-class\");\n\nvar classnames = require(\"classnames\");\n\nvar PagingLink = React.createClass({\n    displayName: \"PagingLink\",\n\n    onClick: function (ev) {\n        // check disabled class to make sure we're not executing a link in case the CSS pointer event rule\n        // doesn't catch\n        var classes = ev.target.className;\n        if (!hasClass(classes, \"disabled\")) {\n            this.props.ctx.offsetLink.requestChange(this.props.newOffset);\n        }\n        ev.preventDefault();\n    },\n    render: function () {\n\n        var newOffset = this.props.newOffset;\n\n        var ctx = this.props.ctx;\n        var rowCount = ctx.rowCount;\n        var limit = ctx.limit;\n        var offsetLink = ctx.offsetLink;\n        var max = ctx.maxOffset;\n\n        var disabled = false;\n        var isCurrent = newOffset === offsetLink.value;\n        if (isCurrent) {\n            disabled = true;\n        }\n\n        if (newOffset < 0) {\n            newOffset = 0;\n            disabled = true;\n        } else if (newOffset > max) {\n            newOffset = max;\n            disabled = true;\n        }\n\n        if (disabled) {\n            return React.createElement(\n                \"span\",\n                {\n                    className: classnames({\n                        \"btn\": true,\n                        \"btn-link\": true,\n                        \"disabled\": true,\n                        \"current\": isCurrent\n                    }) },\n                this.props.label\n            );\n        }\n\n        return React.createElement(\n            \"a\",\n            {\n                onClick: this.onClick,\n                href: \"#jump-to-\" + newOffset,\n                className: classnames({\n                    \"btn\": true,\n                    \"btn-link\": true\n                }) },\n            this.props.label\n        );\n    }\n});\n\nvar PagingComponent = React.createClass({\n    displayName: \"PagingComponent\",\n\n    render: function () {\n        var rowCount = this.props.rowCount;\n        var limit = this.props.limit;\n        var offset = this.props.offsetLink.value;\n\n        var max = Math.floor((rowCount - 1) / limit) * this.props.limit;\n\n        // if we have nothing to page, don't render anything\n        if (max === 0) {\n            return false;\n        }\n\n        var ctx = {\n            limit: this.props.limit,\n            rowCount: this.props.rowCount,\n            offsetLink: this.props.offsetLink,\n            maxOffset: max\n        };\n\n        var links = [React.createElement(PagingLink, { key: \"first\", newOffset: 0, label: \"|<\", ctx: ctx }), React.createElement(PagingLink, { key: \"prev\", newOffset: offset - limit, label: \"<\", ctx: ctx })];\n\n        var page,\n            currentPage = (offset / limit | 0) + 1;\n        for (var i = -2; i <= 2; i++) {\n            page = currentPage + i;\n\n            var newOffset = offset + i * limit;\n\n            var label = page > 0 && newOffset >= 0 && newOffset <= max ? page : \"\\u00a0\";\n\n            links.push(React.createElement(PagingLink, { key: i, newOffset: newOffset, label: label, ctx: ctx }));\n        }\n\n        links.push(React.createElement(PagingLink, { key: \"next\", newOffset: offset + limit, label: \">\", ctx: ctx }), React.createElement(PagingLink, { key: \"last\", newOffset: max, label: \">|\", ctx: ctx }));\n\n        return React.createElement(\n            \"div\",\n            { className: \"paging\" },\n            links\n        );\n    }\n});\n\nmodule.exports = PagingComponent;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy91aS9QYWdpbmdDb21wb25lbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBQVksQ0FBQzs7QUFFYixJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7O0FBRXBDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDOztBQUU1QyxJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7O0FBRXZDLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMvQixXQUFPLEVBQUUsVUFBVSxFQUFFLEVBQ3JCOzs7QUFHSSxZQUFJLE9BQU8sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUNsQyxZQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFDbEM7QUFDSSxnQkFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBRSxDQUFDO1NBQ25FO0FBQ0QsVUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFDO0tBQ3ZCO0FBQ0QsVUFBTSxFQUFFLFlBQ1I7O0FBRUksWUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUM7O0FBRXJDLFlBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO0FBQ3pCLFlBQUksUUFBUSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUM7QUFDNUIsWUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztBQUN0QixZQUFJLFVBQVUsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDO0FBQ2hDLFlBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUM7O0FBRXhCLFlBQUksUUFBUSxHQUFHLEtBQUss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SSxTQUFTLEdBQUcsTUFBTSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRW5DLGdCQUFJLEtBQUssR0FBRyxJQUFJLEdBQUcsQ0FBQyxJQUFJLFNBQVMsSUFBSSxDQUFDLElBQUksU0FBUyxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsUUFBUSxDQUFDOztBQUU3RSxpQkFBSyxDQUFDLElBQUksQ0FDTixvQkFBQyxVQUFVLElBQUMsR0FBRyxFQUFFLENBQUMsQUFBQyxFQUFDLFNBQVMsRUFBRyxTQUFTLEFBQUUsRUFBQyxLQUFLLEVBQUcsS0FBSyxBQUFFLEVBQUMsR0FBRyxFQUFHLEdBQUcsQUFBRSxHQUFFLENBQzVFLENBQUM7U0FDTDs7QUFFRCxhQUFLLENBQUMsSUFBSSxDQUNOLG9CQUFDLFVBQVUsSUFBQyxHQUFHLEVBQUUsTUFBTSxBQUFDLEVBQUMsU0FBUyxFQUFFLE1BQU0sR0FBRyxLQUFLLEFBQUMsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBRyxHQUFHLEFBQUUsR0FBRyxFQUM1RSxvQkFBQyxVQUFVLElBQUMsR0FBRyxFQUFFLE1BQU0sQUFBQyxFQUFDLFNBQVMsRUFBRSxHQUFHLEFBQUMsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBRyxHQUFHLEFBQUUsR0FBRyxDQUNyRSxDQUFDOztBQUVGLGVBQ0k7O2NBQUssU0FBUyxFQUFDLFFBQVE7WUFDakIsS0FBSztTQUNMLENBQ1I7S0FDTDtDQUNKLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOltudWxsXX0=","(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar extend = require(\"extend\");\n\nvar security = require(\"../service/security\");\n\nvar InPageEditor = require(\"../editor/InPageEditor\");\n\nvar components = require(\"../service/component\").getComponents();\n\nvar expressionRegEx = /^\\{\\s*(.*?)\\s*}$/;\n\nvar ViewComponent = React.createClass({\n    displayName: \"ViewComponent\",\n\n    renderComponent: function (model, componentData, key) {\n        //console.log(\"renderComponent\", model, componentData, key);\n\n        var component = model.name;\n\n        var modelAttrs = model.attrs;\n        var modelId = modelAttrs && model.id;\n        if (component <= 'Z') {\n            component = components[component].component;\n        }\n\n        var m;\n        var attrs = {\n            key: key,\n            id: modelId\n        };\n\n        if (modelAttrs) {\n            for (var name in modelAttrs) {\n                if (modelAttrs.hasOwnProperty(name)) {\n                    var value = modelAttrs[name];\n                    if (typeof value === \"string\" && (m = expressionRegEx.exec(value))) {\n                        value = eval(value);\n                    }\n                    attrs[name] = value;\n                }\n            }\n        }\n        var modelKids = model.kids;\n        var callArgs = [component, extend(attrs, modelId && components[modelId])];\n\n        if (modelKids) {\n            for (var i = 0; i < modelKids.length; i++) {\n                var kid = modelKids[i];\n\n                callArgs.push(this.renderComponent(kid, componentData, i));\n            }\n        }\n\n        //console.log(\"createElement\", callArgs, modelKids);\n        return React.createElement.apply(React, callArgs);\n    },\n\n    render: function () {\n        var model = this.props.model;\n\n        return React.createElement(\n            \"div\",\n            { className: \"container-fluid\" },\n            React.createElement(\n                \"div\",\n                { className: \"row\" },\n                React.createElement(\n                    \"div\",\n                    { className: \"col-md-12\" },\n                    this.renderComponent(model.root, this.props.componentData, \"root\")\n                )\n            ),\n            security.hasRole(\"ROLE_EDITOR\") && React.createElement(InPageEditor, { model: model, activeLink: this.props.activeLink })\n        );\n    }\n});\n\nmodule.exports = ViewComponent;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N2ZW4vaWRlYXByb2plY3RzL2V4Y2VlZC9zcmMvbWFpbi9qcy91aS9WaWV3Q29tcG9uZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRS9CLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDOztBQUU5QyxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQzs7QUFFckQsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUMsYUFBYSxFQUFFLENBQUM7O0FBRWpFLElBQUksZUFBZSxHQUFHLGtCQUFrQixDQUFDOztBQUV6QyxJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDbEMsbUJBQWUsRUFBRSxVQUFVLEtBQUssRUFBRSxhQUFhLEVBQUUsR0FBRyxFQUNwRDs7O0FBR0ksWUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQzs7QUFFM0IsWUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztBQUM3QixZQUFJLE9BQU8sR0FBRyxVQUFVLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQztBQUNyQyxZQUFJLFNBQVMsSUFBSSxHQUFHLEVBQ3BCO0FBQ0kscUJBQVMsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDO1NBQy9DOztBQUVELFlBQUksQ0FBQyxDQUFDO0FBQ04sWUFBSSxLQUFLLEdBQUc7QUFDUixlQUFHLEVBQUUsR0FBRztBQUNSLGNBQUUsRUFBRSxPQUFPO1NBQ2QsQ0FBQzs7QUFFRixZQUFHLFVBQVUsRUFDYjtBQUNJLGlCQUFLLElBQUksSUFBSSxJQUFJLFVBQVUsRUFDM0I7QUFDSSxvQkFBSSxVQUFVLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUNuQztBQUNJLHdCQUFJLEtBQUssR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDN0Isd0JBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxLQUFLLENBQUMsR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBLEFBQUMsRUFDbEU7QUFDSSw2QkFBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztxQkFDdkI7QUFDRCx5QkFBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztpQkFDdkI7YUFDSjtTQUNKO0FBQ0QsWUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztBQUMzQixZQUFJLFFBQVEsR0FBRyxDQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLE9BQU8sSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBRSxDQUFDOztBQUU1RSxZQUFJLFNBQVMsRUFDYjtBQUNJLGlCQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFDekM7QUFDSSxvQkFBSSxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUV2Qix3QkFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUM5RDtTQUNKOzs7QUFHRCxlQUFPLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztLQUNyRDs7QUFFRCxVQUFNLEVBQUUsWUFDUjtBQUNJLFlBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDOztBQUU3QixlQUNJOztjQUFLLFNBQVMsRUFBQyxpQkFBaUI7WUFDNUI7O2tCQUFLLFNBQVMsRUFBQyxLQUFLO2dCQUNoQjs7c0JBQUssU0FBUyxFQUFDLFdBQVc7b0JBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUM7aUJBQ2xFO2FBQ0o7WUFDSixRQUFRLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLG9CQUFDLFlBQVksSUFBQyxLQUFLLEVBQUcsS0FBSyxBQUFFLEVBQUMsVUFBVSxFQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxBQUFFLEdBQUc7U0FDeEcsQ0FDUjtLQUNMO0NBQ0osQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6W251bGxdfQ==","\"use strict\";\n\nfunction Enum(map)\n{\n    if (!(this instanceof Enum))\n    {\n        return new Enum(map);\n    }\n\n    for (var name in map)\n    {\n        if (map.hasOwnProperty(name))\n        {\n            this[name] = name;\n        }\n    }\n}\n\nEnum.prototype.values = function()\n{\n    var l=[];\n    for (var name in this)\n    {\n        if (this.hasOwnProperty(name))\n        {\n            l.push(name);\n        }\n    }\n    return l;\n};\n\nEnum.prototype.isValid = function(value)\n{\n    return this.hasOwnProperty(value) && this[value] === value;\n};\n\nmodule.exports = Enum;\n","module.exports = function(classes,cls)\n{\n    var classesLen = classes.length, classLen = cls.length, pos;\n\n    if (classes)\n    {\n        var start = 0;\n        while ( (pos = classes.indexOf(cls, start)) >= 0)\n        {\n            if (( pos == 0 || classes.charAt( pos - 1) == \" \") && ( pos + classLen == classesLen ||  classes.charAt( pos + classLen) == \" \"))\n            {\n                return true;\n            }\n\n            start = pos + classLen;\n        }\n    }\n    return false;\n};\n","module.exports = (function ()\n{\n    var parseXml;\n\n    if (typeof window === \"undefined\")\n    {\n        return null;\n    }\n\n    if (typeof window.DOMParser !== \"undefined\")\n    {\n        parseXml = function (xmlStr)\n        {\n            return ( new window.DOMParser() ).parseFromString(xmlStr, \"text/xml\");\n        };\n    } else if (typeof window.ActiveXObject !== \"undefined\" &&\n        new window.ActiveXObject(\"Microsoft.XMLDOM\"))\n    {\n        parseXml = function (xmlStr)\n        {\n            var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n            xmlDoc.async = \"false\";\n            xmlDoc.loadXML(xmlStr);\n            return xmlDoc;\n        };\n    }\n    return parseXml;\n})();\n","\"use strict\";\n\nvar contextPath = null;\n\nfunction evaluateParams(params)\n{\n    var p = \"\";\n    if (params)\n    {\n        var sep = \"?\";\n        for (var name in params)\n        {\n            if (params.hasOwnProperty(name))\n            {\n                p += sep + encodeURIComponent(name) + \"=\" + encodeURIComponent(params[name]);\n                sep = \"&\";\n            }\n        }\n    }\n    return p;\n}\n\nfunction replacePathVariables(location, params)\n{\n   return location.replace(/{([a-z]+)}/g, function (match, name, offset, str)\n    {\n        var value = params[name];\n        if (value === undefined)\n        {\n            throw new Error(\"Undefined path variable '\" + name + \"' in '\" + location + \"'\");\n        }\n        delete params[name];\n        return value;\n    });\n}\nfunction uri(location, params)\n{\n    location = replacePathVariables(location, params);\n\n    if (contextPath === null)\n    {\n        if (typeof document !== \"undefined\")\n        {\n            contextPath = document.body && document.body.dataset && document.body.dataset.contextPath;\n\n            if (typeof contextPath !== \"string\")\n            {\n                throw new Error(\"Context path not initialized\");\n            }\n            //console.log(\"context-path from body[data-context-path] = \" + contextPath);\n        }\n    }\n\n    var result = contextPath + location + evaluateParams(params);\n\n    //console.log(\"URI:\", result);\n\n    return result;\n}\n\nuri._init_context_path  = function(cp)\n{\n    if (!contextPath)\n    {\n        contextPath = cp;\n    }\n};\n\nmodule.exports = uri;\n","\"use strict\";\n\nfunction ValueLink(value, requestChange)\n{\n    this.value = value;\n    this.requestChange = requestChange;\n}\n\nmodule.exports = ValueLink;\n","\"use strict\";\n\nvar cando = require(\"../cando\");\n\nconst MAP_KEY = \"warnOnce:warnings\";\n\n/**\n * Warns a user once per session about something with an alert,\n *\n * @param name      {string?} key for this message\n * @param message   {string} message\n */\nmodule.exports = function(name, message)\n{\n    if (cando.sessionStorage)\n    {\n        console.log(\"can do sessionStorage\");\n\n        message = message || name;\n\n        var key = \"warnOnce:\" + name;\n\n        var warnings = JSON.parse(sessionStorage.getItem(MAP_KEY));\n        if (warnings)\n        {\n            console.log(\"map present\");\n            if (warnings[key])\n            {\n                console.log(\"warning registered\");\n                return true;\n            }\n        }\n        else\n        {\n            console.log(\"no warnings\");\n            // no warnings map -> create one with our entry\n            warnings = {  };\n        }\n\n        warnings[key] = true;\n\n        console.log(\"store %o\", warnings);\n        sessionStorage.setItem(MAP_KEY, JSON.stringify(warnings));\n    }\n    alert(message)\n};\n","\"use strict\";\n\nconst XMLHttpFactories = [\n    function ()\n    {\n        return new XMLHttpRequest()\n    },\n    function ()\n    {\n        return new ActiveXObject(\"Msxml2.XMLHTTP\")\n    },\n    function ()\n    {\n        return new ActiveXObject(\"Msxml3.XMLHTTP\")\n    },\n    function ()\n    {\n        return new ActiveXObject(\"Microsoft.XMLHTTP\")\n    }\n];\n\nvar startAt = 0;\n\nmodule.exports = function()\n{\n    var xmlhttp = false;\n    for (var i = startAt; i < XMLHttpFactories.length; i++)\n    {\n        try\n        {\n            xmlhttp = XMLHttpFactories[i]();\n        }\n        catch (e)\n        {\n            continue;\n        }\n        // remember succesful index to start with it the next time\n        startAt = i;\n        break;\n    }\n    return xmlhttp;\n};\n"]}