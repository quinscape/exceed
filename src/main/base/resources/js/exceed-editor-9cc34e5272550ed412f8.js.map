{"version":3,"sources":["webpack:///./editor/UndoManager.js","webpack:///./editor/ModelLink.js","webpack:///./editor-main.js","webpack:///./reducers/editor/editor.js","webpack:///./reducers/editor/meta.js","webpack:///./editor/Editor.js","webpack:///./editor/ModelSelector.js","webpack:///./editor/NamedGroup.js","webpack:///./editor/ConfigEditor.js","webpack:///./ui/FormProvider.js","webpack:///./ui/AutoHeight.js","webpack:///./reducers/editor/index.js"],"names":["MAX_UNDO","UndoManager","store","nonUndoable","data","Array","pos","last","clean","state","i","undo","canUndo","dispatch","redo","canRedo","middleWare","sliceNames","getState","filter","name","oldState","result","next","action","newState","type","length","insert","update","ModelLink","navigate","ev","preventDefault","props","params","detail","resultType","uri","renderURI","e","console","error","children","currentLocation","haveName","isActive","tag","indexOf","createElement","className","href","onClick","hash","app","appName","JSON","stringify","Component","initialState","_init","auth","init","userName","roles","Editor","require","default","hub","editorNavHistory","scriptResourcePath","contextPath","__webpack_public_path__","all","load","then","ace","window","add","isClean","message","returnValue","resolve","reject","document","getElementById","scripts","info","join","Date","toISOString","editorState","graph","getEditorData","getAppConfig","getViews","getView","getRoutingTable","getProcesses","getProcess","getLayouts","getLayout","getEnumTypes","getEnumType","getDomainTypes","getDomainType","getTranslations","editor","rootObject","config","view","routing","process","layout","enumType","domainType","translation","getResourceLocations","getModelDocs","getModelLocations","resources","modelDocs","modelLocations","MODEL_SELECTORS","JSONDump","model","getModelSelector","selector","Error","save","path","height","currentModel","editorPaneComponent","MODEL_EDITORS","padding","location","RESULT_TYPE_LABELS","NAME","REFERENCE","TITLE","COMPONENT","ATTRIBUTE","STATE","PROPERTY","ROUTE","TRANSITION","ACTION","EXPRESSION","CONTEXT","SCOPE","DESCRIPTION","DEFAULT_VALUE","COMPONENT_ID","QUERY","MODEL_TYPE_TO_EDITOR_TYPE","getViewSelector","filtered","views","hasOwnProperty","processName","getEditorType","modelType","editorType","getStandaloneViews","getProcessViews","SearchResults","results","map","idx","ModelSelector","onFilterChange","searchTerm","_searchField","value","search","clearFilter","toLowerCase","currentFilter","searchResults","background","borderRight","elem","sortEntries","a","b","localeCompare","getSortedModels","icon","sort","getSortedModelsAndSubs","subType","subItems","subIcon","entries","concat","NamedGroup","open","toggle","setState","entry","ConfigEditor","context","FormProvider","timerId","calculateHeight","onResize","clearTimeout","setTimeout","remove","customFn","innerHeight","actions","editorReducers","editorView","meta"],"mappings":"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","file":"exceed-editor-9cc34e5272550ed412f8.js","sourcesContent":["\nimport keys from \"../util/keys\"\n\nimport store from \"../service/store\"\n\nimport { restoreEditorState, EDITOR_STATE_RESTORE } from \"../actions/editor\"\n\n// last valid index in the undo buffer\nexport const MAX_UNDO = 63;\n\nexport class UndoManager\n{\n    constructor(store, nonUndoable)\n    {\n        this.store = store;\n        this.data = new Array(MAX_UNDO + 1);\n\n        this.pos = 0;\n        this.last = 0;\n        this.clean = 0;\n\n        this.nonUndoable = nonUndoable;\n    }\n\n    canUndo()\n    {\n        return this.pos > 0;\n    }\n\n    undo = () =>\n    {\n        if (this.canUndo())\n        {\n            this.store.dispatch(\n                restoreEditorState(this.data[--this.pos])\n            )\n        }\n    };\n\n    isClean()\n    {\n        return this.pos === this.clean;\n    }\n\n    markClean()\n    {\n        this.clean = this.pos;\n    }\n\n    canRedo()\n    {\n        return this.pos < this.last;\n    }\n\n    getCleanState()\n    {\n        return this.data[this.clean];\n    }\n\n    redo = () =>\n    {\n        if (this.canRedo())\n        {\n            this.store.dispatch(\n                restoreEditorState(this.data[++this.pos])\n            )\n        }\n    };\n\n    update(state)\n    {\n        this.data[this.pos] = state;\n    }\n\n    insert(state)\n    {\n\n        if (this.pos === MAX_UNDO)\n        {\n            for (let i = 1; i <= MAX_UNDO; i++)\n            {\n                this.data[i - 1] = this.data[i];\n            }\n            this.data[this.pos] = state;\n        }\n        else\n        {\n            this.data[++this.pos] = state;\n            this.last = this.pos;\n        }\n    }\n\n    middleWare = (store) =>\n    {\n        const sliceNames = keys(store.getState()).filter( name => name !== this.nonUndoable);\n\n        //console.log(\"Undoable slices: \", sliceNames);\n\n        return next => action => {\n\n            const oldState = store.getState();\n            const result = next(action);\n            const newState = store.getState();\n\n            if ( action.type !== EDITOR_STATE_RESTORE )\n            {\n                for (let i = 0; i < sliceNames.length; i++)\n                {\n                    const name = sliceNames[i];\n                    if (oldState[name] !== newState[name])\n                    {\n                        //console.log(\"Insert undo\");\n                        this.insert(newState);\n                        return result;\n                    }\n                }\n            }\n\n            //console.log(\"Update undo\");\n            this.update(newState);\n            return result;\n        }\n    }\n}\n\nexport default new UndoManager(store, \"editorView\");\n\n\n\n// WEBPACK FOOTER //\n// ./editor/UndoManager.js","import React from \"react\"\nimport cx from \"classnames\"\nimport store from \"../service/store\";\n\nimport uri from \"../util/uri\";\nimport sys from \"../sys\";\n\nimport { navigateEditor } from \"../actions/editor/editorView\"\n\nclass ModelLink extends React.Component {\n\n    navigate = (ev) => {\n\n        ev.preventDefault();\n\n        try\n        {\n            const { type, name, params} = this.props;\n\n            store.dispatch(\n                navigateEditor({\n                    type: type,\n                    name: name,\n                    detail: params && params.detail,\n                    resultType: params && params.resultType,\n                    uri: this.renderURI()\n                })\n            );\n\n        }\n        catch(e)\n        {\n            console.error(e);\n        }\n    };\n\n\n    render()\n    {\n        const { type, name, children, currentLocation, filter } = this.props;\n\n        const haveName = !!name;\n        const isActive = currentLocation.type === type && (!name && !currentLocation.name || currentLocation.name === name);\n\n        const tag = isActive ? \"span\" : \"a\";\n\n        if (filter && (haveName ? name : type).indexOf(filter) < 0)\n        {\n            return false;\n        }\n\n        //console.log(type, name, currentLocation, isActive);\n\n        return (\n            React.createElement(tag, {\n                    className: \"model-link\",\n                    href: isActive ? null : this.renderURI(),\n                    onClick: this.navigate\n                }, children\n            )\n        );\n    }\n\n    renderURI()\n    {\n        const { type, name, params, hash } = this.props;\n\n        const haveName = !!name;\n        return uri(\"/editor/{app}/{type}{name}\", {\n                app: sys.appName,\n                type: type,\n                name: haveName ? \"/\" + name : \"\",\n                detail: params && JSON.stringify(params.detail),\n                resultType: params && params.resultType,\n            }) + (hash ? \"#\" + hash : \"\");\n    }\n}\n\nexport default ModelLink\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./editor/ModelLink.js","//\n// load our global-undo to patch MouseTrap\n//\n//noinspection JSUnusedLocalSymbols\nimport aceLoader from \"./editor/ace-loader\"\nimport Event from \"./util/event\";\nimport { Promise } from \"es6-promise-polyfill\"\nimport { getEditorView } from \"./reducers/editor/editorView\"\n\nimport React from \"react\"\nimport { Provider } from \"react-redux\"\nimport { render } from \"react-dom\"\n\nimport rootReducer from \"./reducers/editor\"\n\nimport { evaluateEmbedded, findBundles } from \"./util/startup\"\n\nimport domready from \"domready\"\n\nimport createStore from \"./create-store\"\n\nimport StoreHolder from \"./service/store\";\nimport { getAppName, getAuthentication, getConnectionId, getContextPath, getDomainData } from \"./reducers\"\nimport { syncEditor } from \"./actions/editor/editorView\"\nimport security from \"./service/security\"\n\nimport UndoManager from \"./editor/UndoManager\"\nimport Services from \"./services\"\nimport sys from \"./sys\";\n\nimport domainService from \"./service/domain\"\nimport i18n from \"./service/i18n\"\nimport svgLayout from \"./gfx/svg-layout\"\n\nconst initialState = evaluateEmbedded(\"root-data\", \"x-ceed/view-data\");\nStoreHolder._init(null, initialState);\n\n//console.log(\"Initial state\", initialState);\n\nconst store = createStore(rootReducer, initialState, [ UndoManager.middleWare ]);\nStoreHolder._init(store, null);\n\nconst auth = getAuthentication(initialState);\nsecurity.init(auth.userName, auth.roles);\n\nconst Editor = require(\"./editor/Editor\").default;\n\nconst hub = require(\"./service/hub\");\nconst editorNavHistory = require(\"./editor/nav-history\").default;\n\ndomready(function ()\n{\n    //console.log(\"DOMREADY\");\n\n    const state = StoreHolder.getState();\n\n    sys.init( getContextPath(state), getAppName(state));\n    domainService.init(getDomainData(state));\n\n    // set correct public path for dynamic module loading.\n    const scriptResourcePath = sys.contextPath + \"/res/\" + sys.appName + \"/js/\";\n    // noinspection JSUndeclaredVariable\n    __webpack_public_path__ = scriptResourcePath;\n\n    // async setup\n    Promise.all([\n        aceLoader.load(),\n        svgLayout.init(),\n        hub.init(getConnectionId(state))\n    ]).then(function ( [ ace ] )\n    {\n//        console.log(ace);\n\n        const state = store.getState();\n        editorNavHistory.init();\n        editorNavHistory.update(getEditorView(state));\n\n        UndoManager.update(state);\n\n        if (typeof window !== \"undefined\")\n        {\n            Event.add(window, \"beforeunload\", ev =>\n            {\n                if (!UndoManager.isClean())\n                {\n                    const message = 'WARNING: Lose unsaved changes in Editor?';\n                    ev.returnValue = message;\n                    return message;\n                }\n            }, true);\n        }\n\n        store.dispatch(\n            syncEditor()\n        );\n\n        return new Promise((resolve,reject) =>\n            render(\n                <Provider store={ store }>\n                    <Editor />\n                </Provider>,\n                document.getElementById(\"root\"),\n                resolve\n            )\n        );\n    })\n    .then(function ()\n    {\n        const scripts = findBundles(scriptResourcePath);\n        console.info( i18n(\"READY: Loaded {0} ( {1} )\", scripts.join(\", \"), new Date().toISOString()));\n    })\n    // .catch(function (e)\n    // {\n    //     console.error(e);\n    // });\n});\n\n\nexport default Services;\n\n\n\n// WEBPACK FOOTER //\n// ./editor-main.js","import { EDITOR_CONFIG_UPDATE } from \"../../actions/editor/config\"\n\nexport default function(editorState = {}, action)\n{\n    if (action.type === EDITOR_CONFIG_UPDATE)\n    {\n        return action.graph;\n    }\n\n    return editorState;\n}\n\nexport function getEditorData(state)\n{\n    return state.editor;\n}\n\nexport function getAppConfig(state)\n{\n    return getEditorData(state).rootObject.config;\n}\n\n\nexport function getViews(state)\n{\n    return getEditorData(state).rootObject.view;\n}\n\n\nexport function getView(state, name)\n{\n    const view = getViews(state)[name];\n    //console.log(\"VIEW\", name, \"=>\", view, getViews(state));\n\n    return view;\n}\n\n\nexport function getRoutingTable(state)\n{\n    return getEditorData(state).rootObject.routing;\n}\n\n\n\nexport function getProcesses(state)\n{\n    return getEditorData(state).rootObject.process;\n}\n\n\nexport function getProcess(state, name)\n{\n    return getProcesses(state)[name];\n}\n\nexport function getLayouts(state)\n{\n    return getEditorData(state).rootObject.layout;\n}\n\n\nexport function getLayout(state, name)\n{\n    return getLayouts(state)[name];\n}\n\n\nexport function getEnumTypes(state)\n{\n    return getEditorData(state).rootObject.enumType;\n}\n\n\nexport function getEnumType(state, name)\n{\n    return getEnumTypes(state)[name];\n}\n\n\nexport function getDomainTypes(state)\n{\n    return getEditorData(state).rootObject.domainType;\n}\n\n\nexport function getDomainType(state, name)\n{\n    return getDomainTypes(state)[name];\n}\n\n\nexport function getTranslations(state)\n{\n    return getEditorData(state).rootObject.translation;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/editor/editor.js","import { getMeta } from \"../meta\"\n\nexport function getResourceLocations(state)\n{\n    return getMeta(state).editor.resources;\n}\n\nexport function getModelDocs(state)\n{\n    return getMeta(state).modelDocs;\n}\n\nexport function getModelLocations(state)\n{\n    return getMeta(state).modelLocations;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/editor/meta.js","import React from \"react\";\nimport ComponentSubscription from \"../util/ComponentSubscription\";\nimport UndoManager from \"../editor/UndoManager\";\n\nimport ModelSelector from \"./ModelSelector\";\nimport ConfigEditor from \"./ConfigEditor\";\nimport AutoHeight from \"../ui/AutoHeight\";\nimport Button from \"react-bootstrap/lib/Button\";\n\nimport { getCurrentEditorLocation, getFilter } from \"../reducers/editor/editorView\";\nimport {\n    getAppConfig,\n    getDomainType,\n    getEnumType,\n    getLayout,\n    getProcess,\n    getRoutingTable,\n    getTranslations,\n    getView\n} from \"../reducers/editor\";\n\nimport i18n from \"../service/i18n\"\n\nconst MODEL_SELECTORS = {\n    config: getAppConfig,\n    routing: getRoutingTable,\n    domainType: getDomainType,\n    enumType: getEnumType,\n    process: getProcess,\n    view: getView,\n    layout: getLayout,\n    translation: getTranslations\n};\n\nfunction JSONDump(props)\n{\n    const { model } = props;\n    \n    return (\n        <pre>\n            { JSON.stringify(model,null,4)}\n        </pre>\n    );\n}\n\nfunction getModelSelector(type)\n{\n    const selector = MODEL_SELECTORS[type];\n\n    if (!selector)\n    {\n        throw new Error(\"No selector for type '\" + type + \"'\");\n    }\n\n    return selector;\n}\n\n/**\n *\n * @name EditorLocation\n * @type {{\n *     type: string,\n *     name: string?,\n *     resultType: string?\n *     detail: string|object\n * }}\n */\n\n/**\n * Editor main component\n *\n * @type {ReactComponent}\n */\nconst Editor = ComponentSubscription(\n    AutoHeight(class extends React.Component {\n\n        open(type,path)\n        {\n//            console.log({type,path});\n        }\n\n        save = ev =>\n        {\n//            console.log(\"SAVE\");\n        };\n\n\n        render()\n        {\n            const { height, store } = this.props;\n\n            const state = store.getState();\n            const currentLocation = getCurrentEditorLocation(state);\n            const currentModel = getModelSelector(currentLocation.type)(state, currentLocation.name);\n\n            const editorPaneComponent = MODEL_EDITORS[currentLocation.type] || JSONDump;\n\n            return (\n                <div className=\"main-editor container-fluid\">\n                    <div className=\"row\">\n                        <ModelSelector store={ this.props.store } currentLocation={ currentLocation } filter={ getFilter(state) } height={ height }/>\n\n                        <div className=\"model-container col-md-10\" style={{ height: height }}>\n                            <div className=\"btn-toolbar\" style={{padding: \"5px 0\"}}>\n                                <Button\n                                    disabled={ !UndoManager.canUndo()}\n                                    onClick={ UndoManager.undo}>\n                                    { i18n(\"Undo\")}\n                                </Button>\n                                <Button\n                                    disabled={ !UndoManager.canRedo()}\n                                    onClick={ UndoManager.redo}>\n                                    { i18n(\"Redo\")}\n                                </Button>\n                                <Button\n                                    disabled={ UndoManager.isClean()}\n                                    bsStyle=\"primary\"\n                                    onClick={ this.save }>\n                                >\n                                    { i18n(\"Save\")}\n                                </Button>\n                            </div>\n                            {\n                                React.createElement(editorPaneComponent, {\n                                    store: store,\n                                    location: currentLocation,\n                                    model: currentModel\n                                })\n                            }\n                        </div>\n                    </div>\n\n                </div>\n            )\n        }\n\n    })\n);\n\nconst MODEL_EDITORS = {\n    \"config\" : ConfigEditor\n};\n\nexport default Editor\n\n\n\n// WEBPACK FOOTER //\n// ./editor/Editor.js","import React from \"react\"\n\nimport ModelLink from \"./ModelLink\"\nimport NamedGroup from \"./NamedGroup\"\nimport Memoizer from \"../util/memoizer\"\nimport sys from \"../sys\"\nimport uri from \"../util/uri\"\nimport debounce from \"../util/debounce\"\n\nimport i18n from \"../service/i18n\";\nimport Icon from \"../ui/Icon\";\n\nimport { searchModel } from \"../actions/editor\";\nimport {\n    getDomainTypes,\n    getEnumTypes,\n    getFilter,\n    getLayouts,\n    getProcesses,\n    getSearchResults,\n    getViews\n} from \"../reducers/editor\";\n\nconst RESULT_TYPE_LABELS = {\n    NAME: i18n(\"SearchResult:Name\"),\n    REFERENCE: i18n(\"SearchResult:Reference\"),\n    TITLE: i18n(\"SearchResult:Title\"),\n    COMPONENT: i18n(\"SearchResult:Component\"),\n    ATTRIBUTE: i18n(\"SearchResult:Attribute\"),\n    STATE: i18n(\"SearchResult:State\"),\n    PROPERTY: i18n(\"SearchResult:Property\"),\n    ROUTE: i18n(\"SearchResult:route\"),\n    TRANSITION: i18n(\"SearchResult:Transition\"),\n    ACTION: i18n(\"SearchResult:Action\"),\n    EXPRESSION: i18n(\"SearchResult:Expression\"),\n    CONTEXT: i18n(\"SearchResult:Context\"),\n    SCOPE: i18n(\"SearchResult:Scope\"),\n    DESCRIPTION: i18n(\"SearchResult:Description\"),\n    DEFAULT_VALUE: i18n(\"SearchResult:Default Value\"),\n    COMPONENT_ID: i18n(\"SearchResult:Component Id\"),\n    QUERY: i18n(\"SearchResult:Query\")\n};\n\nconst MODEL_TYPE_TO_EDITOR_TYPE = {\n    \"xcd.ApplicationConfig\": \"config\",\n    \"xcd.routing.RoutingTable\": \"routing\",\n    \"xcd.domain.DomainType\": \"domainType\",\n    \"xcd.domain.EnumType\": \"enumType\",\n    \"xcd.process.Process\": \"process\",\n    \"xcd.view.View\": \"view\",\n    \"xcd.view.LayoutModel\": \"layout\"\n};\n\nfunction getViewSelector(process)\n{\n    return views => {\n\n        const filtered = {};\n\n        for (let name in views)\n        {\n            if (views.hasOwnProperty(name))\n            {\n                const view = views[name];\n                if (!!view.processName === process)\n                {\n                    filtered[name] = name;\n                }\n            }\n        }\n\n        return filtered;\n    }\n}\n\nfunction getEditorType(modelType)\n{\n    const editorType = MODEL_TYPE_TO_EDITOR_TYPE[modelType];\n    if (!editorType)\n    {\n        throw new Error(\"Unhandled model type: \" + modelType);\n    }\n    return editorType;\n}\n\nconst getStandaloneViews = Memoizer(getViewSelector(false));\nconst getProcessViews = Memoizer(getViewSelector(true));\n\n\nfunction SearchResults(props)\n{\n    const { results, currentLocation } = props;\n\n    return (\n        !!results.length && (\n            <div className=\"search-results\">\n                <h5>{ i18n(\"Search Results\") }</h5>\n                {\n                    results.map((result, idx) =>\n                        <ModelLink\n                            key={ idx }\n                            type={ getEditorType(result.type) }\n                            name={ result.name }\n                            params={ {\n                                resultType: result.resultType,\n                                detail: result.detail\n                            }}\n                            currentLocation={ currentLocation }\n                        >\n                            <span className=\"text-info pull-right\">{ RESULT_TYPE_LABELS[result.resultType] }</span>\n                            { result.name }\n                        </ModelLink>\n                    )\n                }\n            </div>\n        )\n    );\n}\n\nclass ModelSelector extends React.Component\n{\n    onFilterChange = debounce( ev => {\n\n        const searchTerm = this._searchField.value || \"\";\n        this.search(searchTerm);\n\n    }, 250);\n\n    search(searchTerm)\n    {\n        this.props.store.dispatch(\n            searchModel(searchTerm.toLowerCase())\n        );\n    }\n\n    clearFilter = ev => {\n\n        this._searchField.value = \"\";\n        this.search(\"\");\n    };\n\n    render()\n    {\n        const state = this.props.store.getState();\n        const { currentLocation } = this.props;\n\n        const currentFilter = getFilter(state);\n\n        const searchResults = getSearchResults(state);\n\n        return (\n            <div>\n                <div className=\"model-selector col-md-2\" style={ { height: this.props.height, background: \"#f0f0f0\", borderRight: \"1px solid #ccc\" } }>\n                    <h4>\n                        <a\n                            className=\"pull-right\"\n                            title={ i18n(\"Go To App {0}\", sys.appName)}\n                            href={ uri(\"/app/\" + sys.appName) }\n                        >\n                            <Icon className=\"glyphicon-link\"/>\n                        </a>\n                        { i18n(\"App {0}\", sys.appName) }\n\n                    </h4>\n                    <form\n                        className=\"form\"\n                        action={ uri(\"/editor/\" + sys.appName + \"/search/\") }\n                        method=\"GET\"\n                        onSubmit={ this.onFilterChange }>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"model-search\" className=\"sr-only\">{ i18n(\"Filter\") }</label>\n                            <div className=\"input-group\">\n\n                                <input\n                                    ref={ elem => this._searchField = elem }\n                                    id=\"model-search\"\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    defaultValue={ currentFilter }\n                                    onChange={ this.onFilterChange }\n                                    placeholder={ i18n(\"Partial model name\") }\n                                />\n                                <span className=\"input-group-btn\">\n                        <button\n                            className=\"btn btn-default\"\n                            disabled={ !currentFilter }\n                            type=\"button\"\n                            onClick={ this.clearFilter }\n                        >\n                            <Icon className=\"glyphicon-erase\"/>\n                        </button>\n                    </span>\n                            </div>\n                        </div>\n                    </form>\n                    <ModelLink type=\"config\" currentLocation={ currentLocation } filter={ currentFilter }>\n                        <h5>\n                        <Icon className=\"glyphicon-cog text-info\"/>\n                        { \" \" + i18n(\"Config\") }\n                        </h5>\n                    </ModelLink>\n                    <ModelLink type=\"routing\" currentLocation={ currentLocation } filter={ currentFilter }>\n                        <h5>\n                        <Icon className=\"glyphicon-road text-info\"/>\n                        { \" \" + i18n(\"Routing\") }\n                        </h5>\n                    </ModelLink>\n                    <ModelLink type=\"translation\" currentLocation={ currentLocation } filter={ currentFilter }>\n                        <h5>\n                        <Icon className=\"glyphicon-globe text-info\"/>\n                        { \" \" + i18n(\"Translations\") }\n                        </h5>\n                    </ModelLink>\n                    <NamedGroup type=\"domainType\" map={ getDomainTypes(state) } currentLocation={ currentLocation } filter={ currentFilter }>\n                        { i18n(\"Domain Types\")}\n                    </NamedGroup>\n                    <NamedGroup type=\"enumType\" map={ getEnumTypes(state) } currentLocation={ currentLocation } filter={ currentFilter }>\n                        { i18n(\"Enum Types\")}\n                    </NamedGroup>\n                    <NamedGroup type=\"process\" map={ getProcesses(state) } currentLocation={ currentLocation } filter={ currentFilter } subType=\"view\" subItems={ getProcessViews(getViews(state)) } icon=\"chevron-down\" subIcon=\"space\">\n                        { i18n(\"Processes\")}\n                    </NamedGroup>\n                    <NamedGroup type=\"view\" map={ getStandaloneViews(getViews(state)) } currentLocation={ currentLocation } filter={ currentFilter }>\n                        { i18n(\"Views\")}\n                    </NamedGroup>\n                    <NamedGroup type=\"layout\" map={ getLayouts(state) } currentLocation={ currentLocation } filter={ currentFilter }>\n                        { i18n(\"Layouts\")}\n                    </NamedGroup>\n                    <SearchResults results={ searchResults } currentLocation={ currentLocation } />\n                    <hr/>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ModelSelector\n\n\n\n// WEBPACK FOOTER //\n// ./editor/ModelSelector.js","import React from \"react\"\nimport cx from \"classnames\"\n\nimport Memoizer from \"../util/memoizer\"\nimport Icon from \"../ui/Icon\"\n\nimport keys from \"../util/keys\"\n\nimport ModelLink from \"./ModelLink\"\n\nfunction sortEntries(a,b)\n{\n    return a.name.localeCompare(b.name);\n}\n\nconst getSortedModels = Memoizer( (map, type, icon) => {\n\n    return keys(map).map(name => ({\n        name,\n        type,\n        icon\n    })).sort(sortEntries);\n\n});\n\nconst getSortedModelsAndSubs = Memoizer( (map, type, icon, subType, subItems, subIcon) => {\n\n//    console.log({type,subType,subItems});\n\n    let entries = keys(map).map(name => ({\n        name,\n        type,\n        icon\n    }));\n\n    if (subType)\n    {\n        entries = entries.concat(keys(subItems).map(name => ({\n            name: name,\n            type: subType,\n            icon: subIcon\n        })));\n    }\n\n    return entries.sort(sortEntries);\n});\n\nclass NamedGroup extends React.Component {\n\n    state = {\n        open: true\n    };\n\n    toggle = ev => {\n\n        this.setState({\n            open: !this.state.open\n        });\n\n        ev.preventDefault();\n    };\n\n    render()\n    {\n        const { map, type, currentLocation, filter, icon, subIcon, subType, subItems, children } = this.props;\n        const { open } = this.state;\n\n        let entries =  subType ? getSortedModelsAndSubs(map, type, icon, subType, subItems, subIcon) : getSortedModels(map, type, icon);\n\n        if (filter)\n        {\n            entries = entries.filter(entry => entry.name.toLowerCase().indexOf(filter) >= 0);\n        }\n\n        if (!entries.length)\n        {\n            return false;\n        }\n\n        return (\n            <div className=\"group\">\n                <div className=\"header\">\n                    <h5>\n                        <a href=\"#toggle\" onClick={ this.toggle }>\n                        <Icon className={ open ? \"glyphicon-chevron-down\" : \"glyphicon-chevron-right\" }/>\n                        </a>\n                        { \" \" }\n                        { children }\n                    </h5>\n                </div>\n                {\n                    open && entries.map( ({name, type, icon}) =>\n                        <ModelLink key={ name } type={ type } name={ name } currentLocation={ currentLocation }>\n\n                            { icon && <Icon className={ \"glyphicon-\" + icon } /> }\n                            { icon && \" \" }\n                            { name }\n                        </ModelLink>\n                    )\n                }\n            </div>\n        )\n    }\n}\n\nexport default NamedGroup\n\n\n\n// WEBPACK FOOTER //\n// ./editor/NamedGroup.js","import React from \"react\"\n\nimport sys from \"../sys\"\nimport ScopeEditor from \"./code/ScopeEditor\";\nimport i18n from \"../service/i18n\";\n\n\nimport { getEditorData } from \"../reducers/editor\"\n\nimport { updateConfig } from \"../actions/editor\"\n\nimport Form from \"../components/std/form/Form\"\nimport Field from \"../components/std/form/Field\"\nimport StaticText from \"../components/std/form/StaticText\"\n\nimport FormProvider from \"../ui/FormProvider\";\n\nclass ConfigEditor extends React.Component {\n\n    render()\n    {\n        const { location, model, store } = this.props;\n\n        const state = store.getState();\n        return (\n            <FormProvider update={ updateConfig }>\n                <h4> { i18n('{0} configuration', sys.appName) } </h4>\n                <Form data={ getEditorData(state) } path={ [\"config\"] }>\n                    {\n                        context => {\n                            return (\n                                <Field value=\"schema\" context={ context } />\n                            );\n                        }\n                    }\n                </Form>\n            </FormProvider>\n        )\n    }\n}\n\nexport default ConfigEditor\n\n\n\n// WEBPACK FOOTER //\n// ./editor/ConfigEditor.js","import React from \"react\";\n\nclass FormProvider extends React.Component {\n    render()\n    {\n        const { children } = this.props;\n\n        return (\n            <div>\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default FormProvider\n\n\n\n// WEBPACK FOOTER //\n// ./ui/FormProvider.js","import Event from \"../util/event\";\nimport React from \"react\";\n\nfunction calculateHeight(customFn)\n{\n    if (customFn)\n    {\n        return customFn();\n    }\n    else\n    {\n        return window ? window.innerHeight : 500;\n    }\n}\n\n/**\n * High level component to provide automatic vertical scaling to components. It calculates the height based on\n * the current available window height and updates on window resize.\n *\n * @param Component\n * @returns {*}\n */\nexport default function (Component)\n{\n    return (class AutoHeight extends React.Component {\n\n        timerId = null;\n\n        state = {\n            height: calculateHeight(Component.calculateHeight)\n        };\n\n        componentDidMount()\n        {\n            window && Event.add(window, \"resize\", this.onResize, false);\n        }\n\n        componentWillUnmount()\n        {\n            window && Event.remove(window, \"resize\", this.onResize, false);\n        }\n\n        onResize = ev =>\n        {\n            if (this.timerId)\n            {\n                window.clearTimeout(this.timerId);\n            }\n\n\n            this.timerId = window.setTimeout(() =>\n                {\n                    this.timerId = null;\n\n                    this.setState({\n                        height: calculateHeight(Component.calculateHeight)\n                    });\n                },\n                100\n            );\n            //console.log(\"RESIZE\");\n        };\n\n        render()\n        {\n            return (\n                <Component\n                    height={ this.state.height }\n                    {... this.props}\n                />\n            );\n        }\n    });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./ui/AutoHeight.js","import { combineReducers } from \"redux\"\n\nimport meta, { getMeta } from \"../meta\";\n\nimport editor from \"./editor\"\nimport editorView from \"./editorView\"\n\nimport { EDITOR_STATE_RESTORE, EDITOR_UNDO_GROUP } from \"../../actions/editor\"\n\nexport * from \"./editorView\"\nexport * from \"./editor\"\n                                                \nexport * from \"./meta\";\n\nconst editorReducers = combineReducers({\n\n    // current editor view state (what object is selected, which editor shown etc)\n    editorView,\n    // complex editor data graph state\n    editor,\n    // meta block\n    meta\n});\n\n\nexport default function (state, action)\n{\n    if (action.type === EDITOR_STATE_RESTORE)\n    {\n        return action.state;\n    }\n\n    if (action.type === EDITOR_UNDO_GROUP)\n    {\n        const { actions } = action;\n\n        for (let i = 0; i < actions.length; i++)\n        {\n            const action = actions[i];\n            state = editorReducers(state, action);\n        }\n\n        return state;\n    }\n\n    return editorReducers(state, action);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/editor/index.js"],"sourceRoot":""}